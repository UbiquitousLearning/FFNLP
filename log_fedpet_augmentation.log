19328 - Tue, 30 Aug 2022 21:59:52 cli.py[line:233] INFO Parameters: Namespace(adam_epsilon=1e-08, aggregated=True, alpha=0.9999, augmentation=True, beta=None, cache_dir='', data_dir='/data2/cdq/pet_data/data/agnews/', decoding_strategy='default', do_eval=True, do_train=True, eval_set='dev', fed=True, ipet_generations=100, ipet_logits_percentage=0.25, ipet_n_most_likely=-1, ipet_scale_factor=2.0, learning_rate=1e-05, lm_training=False, logging_steps=5000, max_grad_norm=1.0, method='fedpet', model_name_or_path='bert-base-uncased', model_type='bert', no_cuda=False, no_distillation=False, output_dir='/data2/cdq/pet/log_fedpet_augmentation', overwrite_output_dir=False, pattern_ids=[1], pet_gradient_accumulation_steps=1, pet_max_seq_length=256, pet_max_steps=-1, pet_num_train_epochs=10.0, pet_per_gpu_eval_batch_size=8, pet_per_gpu_train_batch_size=4, pet_per_gpu_unlabeled_batch_size=4, pet_repetitions=1, priming=False, reduction='mean', sc_gradient_accumulation_steps=1, sc_max_seq_length=256, sc_max_steps=-1, sc_num_train_epochs=3, sc_per_gpu_eval_batch_size=8, sc_per_gpu_train_batch_size=4, sc_per_gpu_unlabeled_batch_size=4, sc_repetitions=1, seed=42, split_examples_evenly=False, task_name='agnews', temperature=2, test_examples=-1, train_examples=40, unlabeled_examples=-1, vanilla=False, verbalizer_file=None, warmup_steps=0, weight_decay=0.01, wrapper_type='mlm')
19328 - Tue, 30 Aug 2022 21:59:52 tasks.py[line:827] INFO Creating features from dataset file at /data2/cdq/pet_data/data/agnews/ (num_examples=40, set_type=train)
19328 - Tue, 30 Aug 2022 21:59:53 tasks.py[line:853] INFO Returning 40 train examples with label dist.: [('1', 11), ('4', 8), ('2', 10), ('3', 11)]
19328 - Tue, 30 Aug 2022 21:59:53 tasks.py[line:827] INFO Creating features from dataset file at /data2/cdq/pet_data/data/agnews/ (num_examples=-1, set_type=dev)
19328 - Tue, 30 Aug 2022 21:59:53 tasks.py[line:853] INFO Returning 7600 dev examples with label dist.: [('3', 1900), ('4', 1900), ('2', 1900), ('1', 1900)]
19328 - Tue, 30 Aug 2022 21:59:53 tasks.py[line:827] INFO Creating features from dataset file at /data2/cdq/pet_data/data/agnews/ (num_examples=-1, set_type=unlabeled)
19328 - Tue, 30 Aug 2022 21:59:54 tasks.py[line:853] INFO Returning 120000 unlabeled examples with label dist.: [('1', 120000)]
19328 - Tue, 30 Aug 2022 21:59:54 cli.py[line:272] INFO Parameters after setting: Namespace(adam_epsilon=1e-08, aggregated=True, alpha=0.9999, augmentation=True, beta=None, cache_dir='', data_dir='/data2/cdq/pet_data/data/agnews/', decoding_strategy='default', device='cuda', do_eval=True, do_train=True, eval_set='dev', fed=True, ipet_generations=100, ipet_logits_percentage=0.25, ipet_n_most_likely=-1, ipet_scale_factor=2.0, label_list=['1', '2', '3', '4'], learning_rate=1e-05, lm_training=False, logging_steps=5000, max_grad_norm=1.0, method='fedpet', metrics=['acc'], model_name_or_path='bert-base-uncased', model_type='bert', n_gpu=1, no_cuda=False, no_distillation=False, output_dir='/data2/cdq/pet/log_fedpet_augmentation', overwrite_output_dir=False, pattern_ids=[1], pet_gradient_accumulation_steps=1, pet_max_seq_length=256, pet_max_steps=-1, pet_num_train_epochs=10.0, pet_per_gpu_eval_batch_size=8, pet_per_gpu_train_batch_size=4, pet_per_gpu_unlabeled_batch_size=4, pet_repetitions=1, priming=False, reduction='mean', sc_gradient_accumulation_steps=1, sc_max_seq_length=256, sc_max_steps=-1, sc_num_train_epochs=3, sc_per_gpu_eval_batch_size=8, sc_per_gpu_train_batch_size=4, sc_per_gpu_unlabeled_batch_size=4, sc_repetitions=1, seed=42, split_examples_evenly=False, task_name='agnews', temperature=2, test_examples=-1, train_examples=40, unlabeled_examples=-1, vanilla=False, verbalizer_file=None, warmup_steps=0, weight_decay=0.01, wrapper_type='mlm')
19328 - Tue, 30 Aug 2022 21:59:54 modeling.py[line:448] INFO All clients: sample_num_list is [4. 4. 4. 4. 4. 4. 4. 4. 4. 4.]
19328 - Tue, 30 Aug 2022 21:59:54 modeling.py[line:502] INFO Gen 0: client_indexes is [2 8 4 9 1]
19328 - Tue, 30 Aug 2022 21:59:54 modeling.py[line:507] INFO Gen0: sample_num_list is [4. 4. 4. 4. 4.]
19328 - Tue, 30 Aug 2022 22:00:14 modeling.py[line:907] INFO len of all_train_data: 4
2022-08-30 22:00:14,297 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Tue, 30 Aug 2022 22:00:14 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-30 22:00:14,297 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:00:14 wrapper.py[line:433] INFO Writing example 0
/home/cdq/.conda/envs/ptpretrain/lib/python3.7/site-packages/transformers/optimization.py:309: FutureWarning: This implementation of AdamW is deprecated and will be removed in a future version. Use the PyTorch implementation torch.optim.AdamW instead, or set `no_deprecation_warning=True` to disable this warning
  FutureWarning,
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:00<00:03,  2.92it/s]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:00<00:02,  2.91it/s]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:00<00:02,  3.24it/s]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:01<00:01,  3.52it/s]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:01<00:01,  3.77it/s]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:01<00:01,  3.94it/s]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:01<00:00,  4.09it/s]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:02<00:00,  4.19it/s]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:02<00:00,  4.27it/s]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:02<00:00,  4.32it/s]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:02<00:00,  4.02it/s]
2022-08-30 22:00:16,803 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:00:16 wrapper.py[line:433] INFO Writing example 0
/home/cdq/.conda/envs/ptpretrain/lib/python3.7/site-packages/transformers/data/metrics/__init__.py:36: FutureWarning: This metric will be removed from the library soon, metrics should be handled with the ðŸ¤— Datasets library. You can have a look at this example script for pointers: https://github.com/huggingface/transformers/blob/main/examples/pytorch/text-classification/run_glue.py
  warnings.warn(DEPRECATION_WARNING, FutureWarning)
19328 - Tue, 30 Aug 2022 22:00:16 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g0/client0...
19328 - Tue, 30 Aug 2022 22:00:17 modeling.py[line:815] INFO Saving complete
2022-08-30 22:00:17,451 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:00:17 wrapper.py[line:433] INFO Writing example 0
2022-08-30 22:00:31,537 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 22:00:31 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 22:03:06 modeling.py[line:828] INFO Starting evaluation...
2022-08-30 22:03:06,141 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:03:06 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 22:03:12 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Tue, 30 Aug 2022 22:03:12 modeling.py[line:851] INFO {'acc': 0.6486842105263158}
19328 - Tue, 30 Aug 2022 22:03:12 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g0/client0
19328 - Tue, 30 Aug 2022 22:03:12 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Tue, 30 Aug 2022 22:03:12 modeling.py[line:991] INFO acc-p1: 0.6486842105263158 +- 0
19328 - Tue, 30 Aug 2022 22:03:12 modeling.py[line:999] INFO acc-all-p: 0.6486842105263158 +- 0
19328 - Tue, 30 Aug 2022 22:03:37 modeling.py[line:907] INFO len of all_train_data: 4
2022-08-30 22:03:37,605 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Tue, 30 Aug 2022 22:03:37 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-30 22:03:37,605 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:03:37 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:00<00:03,  2.66it/s]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:00<00:02,  2.92it/s]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:00<00:02,  3.30it/s]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:01<00:01,  3.59it/s]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:01<00:01,  3.76it/s]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:01<00:01,  3.92it/s]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:01<00:00,  4.09it/s]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:01<00:00,  4.19it/s]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:02<00:00,  4.26it/s]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:02<00:00,  4.28it/s]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:02<00:00,  4.09it/s]
2022-08-30 22:03:40,072 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:03:40 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 22:03:40 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g0/client1...
19328 - Tue, 30 Aug 2022 22:03:40 modeling.py[line:815] INFO Saving complete
2022-08-30 22:03:40,662 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:03:40 wrapper.py[line:433] INFO Writing example 0
2022-08-30 22:03:55,188 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 22:03:55 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 22:06:17 modeling.py[line:828] INFO Starting evaluation...
2022-08-30 22:06:17,760 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:06:17 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 22:06:28 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Tue, 30 Aug 2022 22:06:28 modeling.py[line:851] INFO {'acc': 0.48157894736842105}
19328 - Tue, 30 Aug 2022 22:06:28 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g0/client1
19328 - Tue, 30 Aug 2022 22:06:28 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Tue, 30 Aug 2022 22:06:28 modeling.py[line:991] INFO acc-p1: 0.48157894736842105 +- 0
19328 - Tue, 30 Aug 2022 22:06:28 modeling.py[line:999] INFO acc-all-p: 0.48157894736842105 +- 0
19328 - Tue, 30 Aug 2022 22:06:42 modeling.py[line:907] INFO len of all_train_data: 4
2022-08-30 22:06:42,080 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Tue, 30 Aug 2022 22:06:42 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-30 22:06:42,080 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:06:42 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:00<00:02,  3.17it/s]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:00<00:02,  3.29it/s]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:00<00:01,  3.56it/s]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:01<00:01,  3.79it/s]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:01<00:01,  3.98it/s]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:01<00:00,  4.10it/s]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:01<00:00,  4.18it/s]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:01<00:00,  4.24it/s]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:02<00:00,  4.28it/s]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:02<00:00,  4.34it/s]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:02<00:00,  4.16it/s]
2022-08-30 22:06:44,497 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:06:44 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 22:06:44 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g0/client2...
19328 - Tue, 30 Aug 2022 22:06:45 modeling.py[line:815] INFO Saving complete
2022-08-30 22:06:45,095 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:06:45 wrapper.py[line:433] INFO Writing example 0
2022-08-30 22:06:59,104 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 22:06:59 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 22:09:28 modeling.py[line:828] INFO Starting evaluation...
2022-08-30 22:09:28,444 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:09:28 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 22:09:39 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Tue, 30 Aug 2022 22:09:39 modeling.py[line:851] INFO {'acc': 0.5223684210526316}
19328 - Tue, 30 Aug 2022 22:09:39 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g0/client2
19328 - Tue, 30 Aug 2022 22:09:39 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Tue, 30 Aug 2022 22:09:39 modeling.py[line:991] INFO acc-p1: 0.5223684210526316 +- 0
19328 - Tue, 30 Aug 2022 22:09:39 modeling.py[line:999] INFO acc-all-p: 0.5223684210526316 +- 0
19328 - Tue, 30 Aug 2022 22:09:52 modeling.py[line:907] INFO len of all_train_data: 4
2022-08-30 22:09:52,648 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Tue, 30 Aug 2022 22:09:52 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-30 22:09:52,648 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:09:52 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:00<00:03,  2.83it/s]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:00<00:02,  3.12it/s]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:00<00:02,  3.42it/s]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:01<00:01,  3.78it/s]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:01<00:01,  3.94it/s]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:01<00:00,  4.06it/s]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:01<00:00,  4.15it/s]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:01<00:00,  4.22it/s]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:02<00:00,  4.25it/s]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:02<00:00,  4.27it/s]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:02<00:00,  4.17it/s]
2022-08-30 22:09:55,063 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:09:55 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 22:09:55 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g0/client3...
19328 - Tue, 30 Aug 2022 22:09:55 modeling.py[line:815] INFO Saving complete
2022-08-30 22:09:55,698 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:09:55 wrapper.py[line:433] INFO Writing example 0
2022-08-30 22:10:09,535 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 22:10:09 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 22:12:38 modeling.py[line:828] INFO Starting evaluation...
2022-08-30 22:12:38,173 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:12:38 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 22:12:44 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Tue, 30 Aug 2022 22:12:44 modeling.py[line:851] INFO {'acc': 0.6407894736842106}
19328 - Tue, 30 Aug 2022 22:12:44 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g0/client3
19328 - Tue, 30 Aug 2022 22:12:44 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Tue, 30 Aug 2022 22:12:44 modeling.py[line:991] INFO acc-p1: 0.6407894736842106 +- 0
19328 - Tue, 30 Aug 2022 22:12:44 modeling.py[line:999] INFO acc-all-p: 0.6407894736842106 +- 0
19328 - Tue, 30 Aug 2022 22:13:56 modeling.py[line:907] INFO len of all_train_data: 4
2022-08-30 22:13:56,923 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Tue, 30 Aug 2022 22:13:56 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-30 22:13:56,923 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:13:56 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:00<00:03,  2.96it/s]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:00<00:02,  3.25it/s]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:00<00:01,  3.58it/s]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:00<00:01,  3.90it/s]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:01<00:01,  4.05it/s]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:01<00:00,  4.15it/s]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:01<00:00,  4.24it/s]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:01<00:00,  4.29it/s]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:02<00:00,  4.33it/s]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:02<00:00,  4.36it/s]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:02<00:00,  4.27it/s]
2022-08-30 22:13:59,281 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:13:59 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 22:13:59 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g0/client4...
19328 - Tue, 30 Aug 2022 22:13:59 modeling.py[line:815] INFO Saving complete
2022-08-30 22:13:59,873 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:13:59 wrapper.py[line:433] INFO Writing example 0
2022-08-30 22:14:13,806 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 22:14:13 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 22:16:38 modeling.py[line:828] INFO Starting evaluation...
2022-08-30 22:16:38,303 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:16:38 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 22:16:44 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Tue, 30 Aug 2022 22:16:44 modeling.py[line:851] INFO {'acc': 0.7789473684210526}
19328 - Tue, 30 Aug 2022 22:16:44 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g0/client4
19328 - Tue, 30 Aug 2022 22:16:44 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Tue, 30 Aug 2022 22:16:44 modeling.py[line:991] INFO acc-p1: 0.7789473684210526 +- 0
19328 - Tue, 30 Aug 2022 22:16:44 modeling.py[line:999] INFO acc-all-p: 0.7789473684210526 +- 0
19328 - Tue, 30 Aug 2022 22:16:44 modeling.py[line:502] INFO Gen 1: client_indexes is [2 9 6 4 0]
19328 - Tue, 30 Aug 2022 22:16:44 modeling.py[line:507] INFO Gen1: sample_num_list is [4. 4. 4. 4. 4.]
19328 - Tue, 30 Aug 2022 22:18:05 modeling.py[line:530] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g0/aggregated...
19328 - Tue, 30 Aug 2022 22:19:26 modeling.py[line:547] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g0/aggregated...
2022-08-30 22:19:27,138 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:19:27 wrapper.py[line:433] INFO Writing example 0
2022-08-30 22:19:40,856 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 22:19:40 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 22:21:54 modeling.py[line:1101] INFO Found the following 6 subdirectories: ['client4', 'client1', 'aggregated', 'client3', 'client2', 'client0']
19328 - Tue, 30 Aug 2022 22:21:54 modeling.py[line:1107] INFO Example distribution in the original dataset: [2, 1, 0, 1]
19328 - Tue, 30 Aug 2022 22:21:54 modeling.py[line:1111] INFO Target distribution for the new dataset: [6, 3, 0, 3]
19328 - Tue, 30 Aug 2022 22:21:54 modeling.py[line:1147] INFO File /data2/cdq/pet/log_fedpet_augmentation/g0/client0/results.txt: Score = 1, #Logits = 12000, #Labels = 4
19328 - Tue, 30 Aug 2022 22:21:54 modeling.py[line:1302] INFO There are 3791 examples for label 1
19328 - Tue, 30 Aug 2022 22:21:54 modeling.py[line:1302] INFO There are 3369 examples for label 2
19328 - Tue, 30 Aug 2022 22:21:54 modeling.py[line:1302] INFO There are 3526 examples for label 3
19328 - Tue, 30 Aug 2022 22:21:54 modeling.py[line:1302] INFO There are 1314 examples for label 4
19328 - Tue, 30 Aug 2022 22:23:06 modeling.py[line:775] INFO Loading previous aggregated trained model from /data2/cdq/pet/log_fedpet_augmentation/g0/aggregated
19328 - Tue, 30 Aug 2022 22:23:07 modeling.py[line:796] INFO Evaluating soft label~
19328 - Tue, 30 Aug 2022 22:23:07 modeling.py[line:122] INFO Data train-41439 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:23:07 modeling.py[line:122] INFO Data train-16756 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:23:07 modeling.py[line:122] INFO Data train-10258 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:23:07 modeling.py[line:122] INFO Data train-101603 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:23:07 modeling.py[line:122] INFO Data train-115569 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:23:07 modeling.py[line:122] INFO Data train-52018 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:23:07 modeling.py[line:122] INFO Data train-106758 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:23:07 modeling.py[line:122] INFO Data train-68948 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:23:07 modeling.py[line:122] INFO Data train-56111 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:23:07 modeling.py[line:122] INFO Data train-4204 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:23:07 modeling.py[line:122] INFO Data train-49383 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:23:07 modeling.py[line:122] INFO Data train-60175 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:23:07 modeling.py[line:131] INFO Inference correct ratio is 1.0
19328 - Tue, 30 Aug 2022 22:23:07 modeling.py[line:907] INFO len of all_train_data: 16
2022-08-30 22:23:07,731 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Tue, 30 Aug 2022 22:23:07 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-30 22:23:07,731 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:23:07 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:00<00:08,  1.08it/s]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:01<00:07,  1.09it/s]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:02<00:06,  1.09it/s]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:03<00:05,  1.10it/s]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:04<00:04,  1.10it/s]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:05<00:03,  1.11it/s]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:06<00:02,  1.11it/s]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:07<00:01,  1.11it/s]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:08<00:00,  1.11it/s]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:09<00:00,  1.11it/s]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:09<00:00,  1.11it/s]
2022-08-30 22:23:16,780 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:23:16 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 22:23:16 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g1/client0...
19328 - Tue, 30 Aug 2022 22:23:17 modeling.py[line:815] INFO Saving complete
2022-08-30 22:23:17,368 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:23:17 wrapper.py[line:433] INFO Writing example 0
2022-08-30 22:23:31,242 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 22:23:31 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 22:25:50 modeling.py[line:828] INFO Starting evaluation...
2022-08-30 22:25:50,455 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:25:50 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 22:25:56 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Tue, 30 Aug 2022 22:25:56 modeling.py[line:851] INFO {'acc': 0.6960526315789474}
19328 - Tue, 30 Aug 2022 22:25:56 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g1/client0
19328 - Tue, 30 Aug 2022 22:25:56 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Tue, 30 Aug 2022 22:25:56 modeling.py[line:991] INFO acc-p1: 0.6960526315789474 +- 0
19328 - Tue, 30 Aug 2022 22:25:56 modeling.py[line:999] INFO acc-all-p: 0.6960526315789474 +- 0
19328 - Tue, 30 Aug 2022 22:27:16 modeling.py[line:530] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g0/aggregated...
19328 - Tue, 30 Aug 2022 22:28:37 modeling.py[line:547] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g0/aggregated...
2022-08-30 22:28:38,122 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:28:38 wrapper.py[line:433] INFO Writing example 0
2022-08-30 22:28:51,922 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 22:28:51 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 22:30:59 modeling.py[line:1101] INFO Found the following 6 subdirectories: ['client4', 'client1', 'aggregated', 'client3', 'client2', 'client0']
19328 - Tue, 30 Aug 2022 22:30:59 modeling.py[line:1107] INFO Example distribution in the original dataset: [2, 0, 1, 1]
19328 - Tue, 30 Aug 2022 22:30:59 modeling.py[line:1111] INFO Target distribution for the new dataset: [6, 0, 3, 3]
19328 - Tue, 30 Aug 2022 22:30:59 modeling.py[line:1147] INFO File /data2/cdq/pet/log_fedpet_augmentation/g0/client0/results.txt: Score = 1, #Logits = 12000, #Labels = 4
19328 - Tue, 30 Aug 2022 22:30:59 modeling.py[line:1302] INFO There are 3684 examples for label 1
19328 - Tue, 30 Aug 2022 22:30:59 modeling.py[line:1302] INFO There are 3470 examples for label 2
19328 - Tue, 30 Aug 2022 22:30:59 modeling.py[line:1302] INFO There are 3552 examples for label 3
19328 - Tue, 30 Aug 2022 22:30:59 modeling.py[line:1302] INFO There are 1294 examples for label 4
19328 - Tue, 30 Aug 2022 22:32:11 modeling.py[line:775] INFO Loading previous aggregated trained model from /data2/cdq/pet/log_fedpet_augmentation/g0/aggregated
19328 - Tue, 30 Aug 2022 22:32:12 modeling.py[line:796] INFO Evaluating soft label~
19328 - Tue, 30 Aug 2022 22:32:12 modeling.py[line:122] INFO Data train-23148 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:32:12 modeling.py[line:122] INFO Data train-52227 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:32:12 modeling.py[line:122] INFO Data train-52034 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:32:12 modeling.py[line:122] INFO Data train-48864 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:32:12 modeling.py[line:122] INFO Data train-73202 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:32:12 modeling.py[line:122] INFO Data train-47560 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:32:12 modeling.py[line:122] INFO Data train-88835 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:32:12 modeling.py[line:122] INFO Data train-19735 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:32:12 modeling.py[line:122] INFO Data train-45582 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:32:12 modeling.py[line:122] INFO Data train-23882 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:32:12 modeling.py[line:122] INFO Data train-21798 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:32:12 modeling.py[line:122] INFO Data train-11957 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:32:12 modeling.py[line:131] INFO Inference correct ratio is 1.0
19328 - Tue, 30 Aug 2022 22:32:13 modeling.py[line:907] INFO len of all_train_data: 16
2022-08-30 22:32:13,234 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Tue, 30 Aug 2022 22:32:13 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-30 22:32:13,234 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:32:13 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:00<00:08,  1.06it/s]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:01<00:07,  1.07it/s]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:02<00:06,  1.08it/s]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:03<00:05,  1.08it/s]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:04<00:04,  1.09it/s]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:05<00:03,  1.09it/s]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:06<00:02,  1.10it/s]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:07<00:01,  1.10it/s]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:08<00:00,  1.10it/s]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:09<00:00,  1.10it/s]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:09<00:00,  1.10it/s]
2022-08-30 22:32:22,383 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:32:22 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 22:32:22 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g1/client1...
19328 - Tue, 30 Aug 2022 22:32:22 modeling.py[line:815] INFO Saving complete
2022-08-30 22:32:22,954 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:32:22 wrapper.py[line:433] INFO Writing example 0
2022-08-30 22:32:36,712 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 22:32:36 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 22:34:51 modeling.py[line:828] INFO Starting evaluation...
2022-08-30 22:34:51,844 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:34:51 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 22:34:58 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Tue, 30 Aug 2022 22:34:58 modeling.py[line:851] INFO {'acc': 0.6789473684210526}
19328 - Tue, 30 Aug 2022 22:34:58 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g1/client1
19328 - Tue, 30 Aug 2022 22:34:58 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Tue, 30 Aug 2022 22:34:58 modeling.py[line:991] INFO acc-p1: 0.6789473684210526 +- 0
19328 - Tue, 30 Aug 2022 22:34:58 modeling.py[line:999] INFO acc-all-p: 0.6789473684210526 +- 0
19328 - Tue, 30 Aug 2022 22:36:18 modeling.py[line:530] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g0/aggregated...
19328 - Tue, 30 Aug 2022 22:37:37 modeling.py[line:547] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g0/aggregated...
2022-08-30 22:37:38,452 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:37:38 wrapper.py[line:433] INFO Writing example 0
2022-08-30 22:37:52,393 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 22:37:52 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 22:39:56 modeling.py[line:1101] INFO Found the following 6 subdirectories: ['client4', 'client1', 'aggregated', 'client3', 'client2', 'client0']
19328 - Tue, 30 Aug 2022 22:39:56 modeling.py[line:1107] INFO Example distribution in the original dataset: [0, 1, 3, 0]
19328 - Tue, 30 Aug 2022 22:39:56 modeling.py[line:1111] INFO Target distribution for the new dataset: [0, 3, 9, 0]
19328 - Tue, 30 Aug 2022 22:39:56 modeling.py[line:1147] INFO File /data2/cdq/pet/log_fedpet_augmentation/g0/client0/results.txt: Score = 1, #Logits = 12000, #Labels = 4
19328 - Tue, 30 Aug 2022 22:39:56 modeling.py[line:1302] INFO There are 3740 examples for label 1
19328 - Tue, 30 Aug 2022 22:39:56 modeling.py[line:1302] INFO There are 3303 examples for label 2
19328 - Tue, 30 Aug 2022 22:39:56 modeling.py[line:1302] INFO There are 3588 examples for label 3
19328 - Tue, 30 Aug 2022 22:39:56 modeling.py[line:1302] INFO There are 1369 examples for label 4
19328 - Tue, 30 Aug 2022 22:41:08 modeling.py[line:775] INFO Loading previous aggregated trained model from /data2/cdq/pet/log_fedpet_augmentation/g0/aggregated
19328 - Tue, 30 Aug 2022 22:41:09 modeling.py[line:796] INFO Evaluating soft label~
19328 - Tue, 30 Aug 2022 22:41:09 modeling.py[line:122] INFO Data train-73135 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:41:09 modeling.py[line:122] INFO Data train-55337 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:41:09 modeling.py[line:122] INFO Data train-79115 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:41:09 modeling.py[line:122] INFO Data train-116734 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:41:09 modeling.py[line:122] INFO Data train-84527 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:41:09 modeling.py[line:122] INFO Data train-84892 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:41:09 modeling.py[line:122] INFO Data train-41075 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:41:09 modeling.py[line:122] INFO Data train-10067 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:41:09 modeling.py[line:122] INFO Data train-80577 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:41:09 modeling.py[line:122] INFO Data train-16896 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:41:09 modeling.py[line:122] INFO Data train-47810 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:41:09 modeling.py[line:122] INFO Data train-89124 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:41:09 modeling.py[line:131] INFO Inference correct ratio is 1.0
19328 - Tue, 30 Aug 2022 22:41:09 modeling.py[line:907] INFO len of all_train_data: 16
2022-08-30 22:41:09,815 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Tue, 30 Aug 2022 22:41:09 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-30 22:41:09,815 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:41:09 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:00<00:08,  1.09it/s]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:01<00:07,  1.09it/s]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:02<00:06,  1.10it/s]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:03<00:05,  1.10it/s]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:04<00:04,  1.11it/s]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:05<00:03,  1.11it/s]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:06<00:02,  1.11it/s]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:07<00:01,  1.11it/s]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:08<00:00,  1.11it/s]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:08<00:00,  1.12it/s]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:08<00:00,  1.11it/s]
2022-08-30 22:41:18,838 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:41:18 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 22:41:18 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g1/client2...
19328 - Tue, 30 Aug 2022 22:41:19 modeling.py[line:815] INFO Saving complete
2022-08-30 22:41:19,409 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:41:19 wrapper.py[line:433] INFO Writing example 0
2022-08-30 22:41:33,162 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 22:41:33 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 22:43:42 modeling.py[line:828] INFO Starting evaluation...
2022-08-30 22:43:42,714 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:43:42 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 22:43:48 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Tue, 30 Aug 2022 22:43:48 modeling.py[line:851] INFO {'acc': 0.4486842105263158}
19328 - Tue, 30 Aug 2022 22:43:48 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g1/client2
19328 - Tue, 30 Aug 2022 22:43:48 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Tue, 30 Aug 2022 22:43:48 modeling.py[line:991] INFO acc-p1: 0.4486842105263158 +- 0
19328 - Tue, 30 Aug 2022 22:43:48 modeling.py[line:999] INFO acc-all-p: 0.4486842105263158 +- 0
19328 - Tue, 30 Aug 2022 22:44:16 modeling.py[line:530] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g0/aggregated...
19328 - Tue, 30 Aug 2022 22:44:43 modeling.py[line:547] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g0/aggregated...
2022-08-30 22:44:44,728 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:44:44 wrapper.py[line:433] INFO Writing example 0
2022-08-30 22:44:58,470 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 22:44:58 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 22:47:24 modeling.py[line:1101] INFO Found the following 6 subdirectories: ['client4', 'client1', 'aggregated', 'client3', 'client2', 'client0']
19328 - Tue, 30 Aug 2022 22:47:24 modeling.py[line:1107] INFO Example distribution in the original dataset: [3, 1, 0, 0]
19328 - Tue, 30 Aug 2022 22:47:24 modeling.py[line:1111] INFO Target distribution for the new dataset: [9, 3, 0, 0]
19328 - Tue, 30 Aug 2022 22:47:24 modeling.py[line:1147] INFO File /data2/cdq/pet/log_fedpet_augmentation/g0/client0/results.txt: Score = 1, #Logits = 12000, #Labels = 4
19328 - Tue, 30 Aug 2022 22:47:24 modeling.py[line:1302] INFO There are 3760 examples for label 1
19328 - Tue, 30 Aug 2022 22:47:24 modeling.py[line:1302] INFO There are 3368 examples for label 2
19328 - Tue, 30 Aug 2022 22:47:24 modeling.py[line:1302] INFO There are 3611 examples for label 3
19328 - Tue, 30 Aug 2022 22:47:24 modeling.py[line:1302] INFO There are 1261 examples for label 4
19328 - Tue, 30 Aug 2022 22:47:40 modeling.py[line:775] INFO Loading previous aggregated trained model from /data2/cdq/pet/log_fedpet_augmentation/g0/aggregated
19328 - Tue, 30 Aug 2022 22:47:42 modeling.py[line:796] INFO Evaluating soft label~
19328 - Tue, 30 Aug 2022 22:47:42 modeling.py[line:122] INFO Data train-4642 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:47:42 modeling.py[line:122] INFO Data train-27238 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:47:42 modeling.py[line:122] INFO Data train-51379 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:47:42 modeling.py[line:122] INFO Data train-97447 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:47:42 modeling.py[line:122] INFO Data train-35957 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:47:42 modeling.py[line:122] INFO Data train-95761 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:47:42 modeling.py[line:122] INFO Data train-66654 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:47:42 modeling.py[line:122] INFO Data train-10183 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:47:42 modeling.py[line:122] INFO Data train-115364 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:47:42 modeling.py[line:122] INFO Data train-101136 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:47:42 modeling.py[line:122] INFO Data train-30996 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:47:42 modeling.py[line:122] INFO Data train-18642 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:47:42 modeling.py[line:131] INFO Inference correct ratio is 1.0
19328 - Tue, 30 Aug 2022 22:47:42 modeling.py[line:907] INFO len of all_train_data: 16
2022-08-30 22:47:42,498 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Tue, 30 Aug 2022 22:47:42 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-30 22:47:42,498 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:47:42 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:00<00:08,  1.07it/s]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:01<00:07,  1.07it/s]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:02<00:06,  1.08it/s]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:03<00:05,  1.08it/s]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:04<00:04,  1.08it/s]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:05<00:03,  1.08it/s]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:06<00:02,  1.09it/s]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:07<00:01,  1.09it/s]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:08<00:00,  1.09it/s]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:09<00:00,  1.09it/s]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:09<00:00,  1.09it/s]
2022-08-30 22:47:51,732 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:47:51 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 22:47:51 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g1/client3...
19328 - Tue, 30 Aug 2022 22:47:52 modeling.py[line:815] INFO Saving complete
2022-08-30 22:47:52,302 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:47:52 wrapper.py[line:433] INFO Writing example 0
2022-08-30 22:48:05,983 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 22:48:05 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 22:50:03 modeling.py[line:828] INFO Starting evaluation...
2022-08-30 22:50:03,465 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:50:03 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 22:50:09 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Tue, 30 Aug 2022 22:50:09 modeling.py[line:851] INFO {'acc': 0.5342105263157895}
19328 - Tue, 30 Aug 2022 22:50:09 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g1/client3
19328 - Tue, 30 Aug 2022 22:50:09 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Tue, 30 Aug 2022 22:50:09 modeling.py[line:991] INFO acc-p1: 0.5342105263157895 +- 0
19328 - Tue, 30 Aug 2022 22:50:09 modeling.py[line:999] INFO acc-all-p: 0.5342105263157895 +- 0
19328 - Tue, 30 Aug 2022 22:50:34 modeling.py[line:530] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g0/aggregated...
19328 - Tue, 30 Aug 2022 22:50:58 modeling.py[line:547] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g0/aggregated...
2022-08-30 22:50:59,507 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:50:59 wrapper.py[line:433] INFO Writing example 0
2022-08-30 22:51:13,397 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 22:51:13 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 22:53:32 modeling.py[line:1101] INFO Found the following 6 subdirectories: ['client4', 'client1', 'aggregated', 'client3', 'client2', 'client0']
19328 - Tue, 30 Aug 2022 22:53:32 modeling.py[line:1107] INFO Example distribution in the original dataset: [0, 1, 1, 2]
19328 - Tue, 30 Aug 2022 22:53:32 modeling.py[line:1111] INFO Target distribution for the new dataset: [0, 3, 3, 6]
19328 - Tue, 30 Aug 2022 22:53:32 modeling.py[line:1147] INFO File /data2/cdq/pet/log_fedpet_augmentation/g0/client0/results.txt: Score = 1, #Logits = 12000, #Labels = 4
19328 - Tue, 30 Aug 2022 22:53:32 modeling.py[line:1302] INFO There are 3803 examples for label 1
19328 - Tue, 30 Aug 2022 22:53:32 modeling.py[line:1302] INFO There are 3273 examples for label 2
19328 - Tue, 30 Aug 2022 22:53:32 modeling.py[line:1302] INFO There are 3625 examples for label 3
19328 - Tue, 30 Aug 2022 22:53:32 modeling.py[line:1302] INFO There are 1299 examples for label 4
19328 - Tue, 30 Aug 2022 22:53:49 modeling.py[line:775] INFO Loading previous aggregated trained model from /data2/cdq/pet/log_fedpet_augmentation/g0/aggregated
19328 - Tue, 30 Aug 2022 22:53:50 modeling.py[line:796] INFO Evaluating soft label~
19328 - Tue, 30 Aug 2022 22:53:50 modeling.py[line:122] INFO Data train-50370 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:53:50 modeling.py[line:122] INFO Data train-83524 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:53:50 modeling.py[line:122] INFO Data train-117816 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:53:50 modeling.py[line:122] INFO Data train-32583 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:53:50 modeling.py[line:122] INFO Data train-116494 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:53:50 modeling.py[line:122] INFO Data train-25515 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:53:50 modeling.py[line:122] INFO Data train-98425 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:53:50 modeling.py[line:122] INFO Data train-38250 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:53:50 modeling.py[line:122] INFO Data train-25675 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:53:50 modeling.py[line:122] INFO Data train-51839 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:53:50 modeling.py[line:122] INFO Data train-3907 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:53:50 modeling.py[line:122] INFO Data train-37439 is tagged correctly.
19328 - Tue, 30 Aug 2022 22:53:50 modeling.py[line:131] INFO Inference correct ratio is 1.0
19328 - Tue, 30 Aug 2022 22:53:51 modeling.py[line:907] INFO len of all_train_data: 16
2022-08-30 22:53:51,213 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Tue, 30 Aug 2022 22:53:51 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-30 22:53:51,213 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:53:51 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:00<00:08,  1.08it/s]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:01<00:07,  1.08it/s]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:02<00:06,  1.08it/s]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:03<00:05,  1.08it/s]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:04<00:04,  1.08it/s]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:05<00:03,  1.09it/s]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:06<00:02,  1.09it/s]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:07<00:01,  1.09it/s]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:08<00:00,  1.07it/s]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:09<00:00,  1.07it/s]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:09<00:00,  1.08it/s]
2022-08-30 22:54:00,530 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:54:00 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 22:54:00 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g1/client4...
19328 - Tue, 30 Aug 2022 22:54:01 modeling.py[line:815] INFO Saving complete
2022-08-30 22:54:01,092 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:54:01 wrapper.py[line:433] INFO Writing example 0
2022-08-30 22:54:15,095 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 22:54:15 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 22:56:27 modeling.py[line:828] INFO Starting evaluation...
2022-08-30 22:56:27,335 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:56:27 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 22:56:33 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Tue, 30 Aug 2022 22:56:33 modeling.py[line:851] INFO {'acc': 0.6618421052631579}
19328 - Tue, 30 Aug 2022 22:56:33 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g1/client4
19328 - Tue, 30 Aug 2022 22:56:33 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Tue, 30 Aug 2022 22:56:33 modeling.py[line:991] INFO acc-p1: 0.6618421052631579 +- 0
19328 - Tue, 30 Aug 2022 22:56:33 modeling.py[line:999] INFO acc-all-p: 0.6618421052631579 +- 0
19328 - Tue, 30 Aug 2022 22:56:33 modeling.py[line:502] INFO Gen 2: client_indexes is [4 1 5 0 7]
19328 - Tue, 30 Aug 2022 22:56:33 modeling.py[line:507] INFO Gen2: sample_num_list is [4. 4. 4. 4. 4.]
19328 - Tue, 30 Aug 2022 22:56:54 modeling.py[line:530] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g1/aggregated...
19328 - Tue, 30 Aug 2022 22:57:14 modeling.py[line:547] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g1/aggregated...
2022-08-30 22:57:15,386 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 22:57:15 wrapper.py[line:433] INFO Writing example 0
2022-08-30 22:57:29,495 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 22:57:29 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 22:59:56 modeling.py[line:1101] INFO Found the following 6 subdirectories: ['client4', 'client1', 'aggregated', 'client3', 'client2', 'client0']
19328 - Tue, 30 Aug 2022 22:59:56 modeling.py[line:1107] INFO Example distribution in the original dataset: [3, 1, 0, 0]
19328 - Tue, 30 Aug 2022 22:59:56 modeling.py[line:1111] INFO Target distribution for the new dataset: [15, 5, 0, 0]
19328 - Tue, 30 Aug 2022 22:59:56 modeling.py[line:1147] INFO File /data2/cdq/pet/log_fedpet_augmentation/g1/client0/results.txt: Score = 1, #Logits = 12000, #Labels = 4
19328 - Tue, 30 Aug 2022 22:59:56 modeling.py[line:1302] INFO There are 2848 examples for label 1
19328 - Tue, 30 Aug 2022 22:59:56 modeling.py[line:1302] INFO There are 3390 examples for label 2
19328 - Tue, 30 Aug 2022 22:59:56 modeling.py[line:1302] INFO There are 4125 examples for label 3
19328 - Tue, 30 Aug 2022 22:59:56 modeling.py[line:1302] INFO There are 1637 examples for label 4
19328 - Tue, 30 Aug 2022 23:00:09 modeling.py[line:775] INFO Loading previous aggregated trained model from /data2/cdq/pet/log_fedpet_augmentation/g1/aggregated
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:796] INFO Evaluating soft label~
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:122] INFO Data train-79298 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:122] INFO Data train-38871 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:122] INFO Data train-52659 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:122] INFO Data train-60939 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:122] INFO Data train-111498 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:122] INFO Data train-40305 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:122] INFO Data train-43191 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:122] INFO Data train-10183 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:122] INFO Data train-69662 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:122] INFO Data train-88938 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:122] INFO Data train-35166 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:122] INFO Data train-49637 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:122] INFO Data train-83302 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:122] INFO Data train-116193 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:122] INFO Data train-102680 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:122] INFO Data train-13760 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:122] INFO Data train-119116 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:122] INFO Data train-116472 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:122] INFO Data train-83214 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:122] INFO Data train-113574 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:00:10 modeling.py[line:131] INFO Inference correct ratio is 1.0
19328 - Tue, 30 Aug 2022 23:00:11 modeling.py[line:907] INFO len of all_train_data: 24
2022-08-30 23:00:11,107 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Tue, 30 Aug 2022 23:00:11 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-30 23:00:11,107 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:00:11 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:01<00:12,  1.38s/it]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:02<00:11,  1.38s/it]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:04<00:09,  1.38s/it]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:05<00:08,  1.38s/it]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:06<00:06,  1.38s/it]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:08<00:05,  1.38s/it]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:09<00:04,  1.41s/it]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:11<00:02,  1.40s/it]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:12<00:01,  1.39s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:13<00:00,  1.39s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:13<00:00,  1.39s/it]
2022-08-30 23:00:25,045 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:00:25 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 23:00:25 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g2/client0...
19328 - Tue, 30 Aug 2022 23:00:25 modeling.py[line:815] INFO Saving complete
2022-08-30 23:00:25,675 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:00:25 wrapper.py[line:433] INFO Writing example 0
2022-08-30 23:00:39,555 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 23:00:39 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 23:02:57 modeling.py[line:828] INFO Starting evaluation...
2022-08-30 23:02:57,150 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:02:57 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 23:03:03 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Tue, 30 Aug 2022 23:03:03 modeling.py[line:851] INFO {'acc': 0.5855263157894737}
19328 - Tue, 30 Aug 2022 23:03:03 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g2/client0
19328 - Tue, 30 Aug 2022 23:03:03 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Tue, 30 Aug 2022 23:03:03 modeling.py[line:991] INFO acc-p1: 0.5855263157894737 +- 0
19328 - Tue, 30 Aug 2022 23:03:03 modeling.py[line:999] INFO acc-all-p: 0.5855263157894737 +- 0
19328 - Tue, 30 Aug 2022 23:03:23 modeling.py[line:530] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g1/aggregated...
19328 - Tue, 30 Aug 2022 23:03:45 modeling.py[line:547] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g1/aggregated...
2022-08-30 23:03:46,153 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:03:46 wrapper.py[line:433] INFO Writing example 0
2022-08-30 23:04:00,576 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 23:04:00 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 23:06:24 modeling.py[line:1101] INFO Found the following 6 subdirectories: ['client4', 'client1', 'aggregated', 'client3', 'client2', 'client0']
19328 - Tue, 30 Aug 2022 23:06:24 modeling.py[line:1107] INFO Example distribution in the original dataset: [1, 1, 1, 1]
19328 - Tue, 30 Aug 2022 23:06:24 modeling.py[line:1111] INFO Target distribution for the new dataset: [5, 5, 5, 5]
19328 - Tue, 30 Aug 2022 23:06:24 modeling.py[line:1147] INFO File /data2/cdq/pet/log_fedpet_augmentation/g1/client0/results.txt: Score = 1, #Logits = 12000, #Labels = 4
19328 - Tue, 30 Aug 2022 23:06:24 modeling.py[line:1302] INFO There are 2818 examples for label 1
19328 - Tue, 30 Aug 2022 23:06:24 modeling.py[line:1302] INFO There are 3423 examples for label 2
19328 - Tue, 30 Aug 2022 23:06:24 modeling.py[line:1302] INFO There are 4066 examples for label 3
19328 - Tue, 30 Aug 2022 23:06:24 modeling.py[line:1302] INFO There are 1693 examples for label 4
19328 - Tue, 30 Aug 2022 23:06:37 modeling.py[line:775] INFO Loading previous aggregated trained model from /data2/cdq/pet/log_fedpet_augmentation/g1/aggregated
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:796] INFO Evaluating soft label~
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:122] INFO Data train-90138 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:122] INFO Data train-24020 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:122] INFO Data train-27084 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:122] INFO Data train-65137 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:122] INFO Data train-28069 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:122] INFO Data train-112709 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:122] INFO Data train-21239 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:122] INFO Data train-78580 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:122] INFO Data train-18761 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:122] INFO Data train-39372 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:122] INFO Data train-71682 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:122] INFO Data train-119684 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:122] INFO Data train-89540 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:122] INFO Data train-111434 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:122] INFO Data train-6038 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:122] INFO Data train-23249 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:122] INFO Data train-88446 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:122] INFO Data train-75611 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:122] INFO Data train-105749 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:122] INFO Data train-85821 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:131] INFO Inference correct ratio is 1.0
19328 - Tue, 30 Aug 2022 23:06:39 modeling.py[line:907] INFO len of all_train_data: 24
2022-08-30 23:06:39,434 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Tue, 30 Aug 2022 23:06:39 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-30 23:06:39,434 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:06:39 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:01<00:12,  1.43s/it]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:02<00:11,  1.41s/it]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:04<00:09,  1.41s/it]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:05<00:08,  1.40s/it]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:06<00:06,  1.39s/it]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:08<00:05,  1.40s/it]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:09<00:04,  1.40s/it]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:11<00:02,  1.39s/it]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:12<00:01,  1.39s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:13<00:00,  1.38s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:13<00:00,  1.39s/it]
2022-08-30 23:06:53,371 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:06:53 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 23:06:53 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g2/client1...
19328 - Tue, 30 Aug 2022 23:06:53 modeling.py[line:815] INFO Saving complete
2022-08-30 23:06:53,945 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:06:53 wrapper.py[line:433] INFO Writing example 0
2022-08-30 23:07:08,010 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 23:07:08 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 23:09:27 modeling.py[line:828] INFO Starting evaluation...
2022-08-30 23:09:27,567 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:09:27 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 23:09:33 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Tue, 30 Aug 2022 23:09:33 modeling.py[line:851] INFO {'acc': 0.8355263157894737}
19328 - Tue, 30 Aug 2022 23:09:33 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g2/client1
19328 - Tue, 30 Aug 2022 23:09:33 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Tue, 30 Aug 2022 23:09:33 modeling.py[line:991] INFO acc-p1: 0.8355263157894737 +- 0
19328 - Tue, 30 Aug 2022 23:09:33 modeling.py[line:999] INFO acc-all-p: 0.8355263157894737 +- 0
19328 - Tue, 30 Aug 2022 23:09:55 modeling.py[line:530] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g1/aggregated...
19328 - Tue, 30 Aug 2022 23:10:20 modeling.py[line:547] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g1/aggregated...
2022-08-30 23:10:21,228 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:10:21 wrapper.py[line:433] INFO Writing example 0
2022-08-30 23:10:35,399 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 23:10:35 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 23:13:02 modeling.py[line:1101] INFO Found the following 6 subdirectories: ['client4', 'client1', 'aggregated', 'client3', 'client2', 'client0']
19328 - Tue, 30 Aug 2022 23:13:02 modeling.py[line:1107] INFO Example distribution in the original dataset: [2, 1, 1, 0]
19328 - Tue, 30 Aug 2022 23:13:02 modeling.py[line:1111] INFO Target distribution for the new dataset: [10, 5, 5, 0]
19328 - Tue, 30 Aug 2022 23:13:02 modeling.py[line:1147] INFO File /data2/cdq/pet/log_fedpet_augmentation/g1/client0/results.txt: Score = 1, #Logits = 12000, #Labels = 4
19328 - Tue, 30 Aug 2022 23:13:03 modeling.py[line:1302] INFO There are 2853 examples for label 1
19328 - Tue, 30 Aug 2022 23:13:03 modeling.py[line:1302] INFO There are 3422 examples for label 2
19328 - Tue, 30 Aug 2022 23:13:03 modeling.py[line:1302] INFO There are 4027 examples for label 3
19328 - Tue, 30 Aug 2022 23:13:03 modeling.py[line:1302] INFO There are 1698 examples for label 4
19328 - Tue, 30 Aug 2022 23:13:16 modeling.py[line:775] INFO Loading previous aggregated trained model from /data2/cdq/pet/log_fedpet_augmentation/g1/aggregated
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:796] INFO Evaluating soft label~
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:122] INFO Data train-60825 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:122] INFO Data train-15790 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:122] INFO Data train-103284 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:122] INFO Data train-90157 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:122] INFO Data train-63856 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:122] INFO Data train-59002 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:122] INFO Data train-97619 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:122] INFO Data train-104438 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:122] INFO Data train-47147 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:122] INFO Data train-6468 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:122] INFO Data train-112788 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:122] INFO Data train-35303 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:122] INFO Data train-66888 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:122] INFO Data train-111330 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:122] INFO Data train-13564 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:122] INFO Data train-83870 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:122] INFO Data train-19797 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:122] INFO Data train-63964 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:122] INFO Data train-65192 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:122] INFO Data train-43546 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:13:18 modeling.py[line:131] INFO Inference correct ratio is 1.0
19328 - Tue, 30 Aug 2022 23:13:19 modeling.py[line:907] INFO len of all_train_data: 24
2022-08-30 23:13:19,104 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Tue, 30 Aug 2022 23:13:19 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-30 23:13:19,104 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:13:19 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:01<00:12,  1.40s/it]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:02<00:11,  1.40s/it]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:04<00:09,  1.40s/it]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:05<00:08,  1.40s/it]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:06<00:06,  1.40s/it]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:08<00:05,  1.39s/it]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:09<00:04,  1.40s/it]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:11<00:02,  1.40s/it]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:12<00:01,  1.39s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:13<00:00,  1.39s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:13<00:00,  1.39s/it]
2022-08-30 23:13:33,084 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:13:33 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 23:13:33 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g2/client2...
19328 - Tue, 30 Aug 2022 23:13:33 modeling.py[line:815] INFO Saving complete
2022-08-30 23:13:33,874 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:13:33 wrapper.py[line:433] INFO Writing example 0
2022-08-30 23:13:47,930 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 23:13:47 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 23:15:59 modeling.py[line:828] INFO Starting evaluation...
2022-08-30 23:15:59,764 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:15:59 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 23:16:05 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Tue, 30 Aug 2022 23:16:05 modeling.py[line:851] INFO {'acc': 0.6578947368421053}
19328 - Tue, 30 Aug 2022 23:16:05 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g2/client2
19328 - Tue, 30 Aug 2022 23:16:06 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Tue, 30 Aug 2022 23:16:06 modeling.py[line:991] INFO acc-p1: 0.6578947368421053 +- 0
19328 - Tue, 30 Aug 2022 23:16:06 modeling.py[line:999] INFO acc-all-p: 0.6578947368421053 +- 0
19328 - Tue, 30 Aug 2022 23:16:32 modeling.py[line:530] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g1/aggregated...
19328 - Tue, 30 Aug 2022 23:16:54 modeling.py[line:547] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g1/aggregated...
2022-08-30 23:16:54,797 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:16:54 wrapper.py[line:433] INFO Writing example 0
2022-08-30 23:17:08,794 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 23:17:08 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 23:19:32 modeling.py[line:1101] INFO Found the following 6 subdirectories: ['client4', 'client1', 'aggregated', 'client3', 'client2', 'client0']
19328 - Tue, 30 Aug 2022 23:19:32 modeling.py[line:1107] INFO Example distribution in the original dataset: [0, 1, 1, 2]
19328 - Tue, 30 Aug 2022 23:19:32 modeling.py[line:1111] INFO Target distribution for the new dataset: [0, 5, 5, 10]
19328 - Tue, 30 Aug 2022 23:19:32 modeling.py[line:1147] INFO File /data2/cdq/pet/log_fedpet_augmentation/g1/client0/results.txt: Score = 1, #Logits = 12000, #Labels = 4
19328 - Tue, 30 Aug 2022 23:19:33 modeling.py[line:1302] INFO There are 2913 examples for label 1
19328 - Tue, 30 Aug 2022 23:19:33 modeling.py[line:1302] INFO There are 3313 examples for label 2
19328 - Tue, 30 Aug 2022 23:19:33 modeling.py[line:1302] INFO There are 4124 examples for label 3
19328 - Tue, 30 Aug 2022 23:19:33 modeling.py[line:1302] INFO There are 1650 examples for label 4
19328 - Tue, 30 Aug 2022 23:19:55 modeling.py[line:775] INFO Loading previous aggregated trained model from /data2/cdq/pet/log_fedpet_augmentation/g1/aggregated
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:796] INFO Evaluating soft label~
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:122] INFO Data train-72317 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:122] INFO Data train-58971 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:122] INFO Data train-31199 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:122] INFO Data train-86176 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:122] INFO Data train-90498 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:122] INFO Data train-93034 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:122] INFO Data train-66217 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:122] INFO Data train-30096 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:122] INFO Data train-11088 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:122] INFO Data train-83014 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:122] INFO Data train-103765 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:122] INFO Data train-112637 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:122] INFO Data train-28540 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:122] INFO Data train-64171 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:122] INFO Data train-115754 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:122] INFO Data train-27335 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:122] INFO Data train-36274 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:122] INFO Data train-67301 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:122] INFO Data train-74840 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:122] INFO Data train-74116 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:19:56 modeling.py[line:131] INFO Inference correct ratio is 1.0
19328 - Tue, 30 Aug 2022 23:19:57 modeling.py[line:907] INFO len of all_train_data: 24
2022-08-30 23:19:57,202 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Tue, 30 Aug 2022 23:19:57 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-30 23:19:57,202 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:19:57 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:01<00:13,  1.45s/it]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:02<00:11,  1.44s/it]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:04<00:09,  1.42s/it]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:05<00:08,  1.41s/it]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:07<00:07,  1.41s/it]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:08<00:05,  1.41s/it]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:09<00:04,  1.41s/it]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:11<00:02,  1.40s/it]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:12<00:01,  1.40s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:14<00:00,  1.40s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:14<00:00,  1.40s/it]
2022-08-30 23:20:11,253 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:20:11 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 23:20:11 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g2/client3...
19328 - Tue, 30 Aug 2022 23:20:11 modeling.py[line:815] INFO Saving complete
2022-08-30 23:20:11,930 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:20:11 wrapper.py[line:433] INFO Writing example 0
2022-08-30 23:20:25,815 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 23:20:25 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 23:22:25 modeling.py[line:828] INFO Starting evaluation...
2022-08-30 23:22:25,279 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:22:25 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 23:22:31 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Tue, 30 Aug 2022 23:22:31 modeling.py[line:851] INFO {'acc': 0.7131578947368421}
19328 - Tue, 30 Aug 2022 23:22:31 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g2/client3
19328 - Tue, 30 Aug 2022 23:22:31 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Tue, 30 Aug 2022 23:22:31 modeling.py[line:991] INFO acc-p1: 0.7131578947368421 +- 0
19328 - Tue, 30 Aug 2022 23:22:31 modeling.py[line:999] INFO acc-all-p: 0.7131578947368421 +- 0
19328 - Tue, 30 Aug 2022 23:22:53 modeling.py[line:530] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g1/aggregated...
19328 - Tue, 30 Aug 2022 23:23:21 modeling.py[line:547] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g1/aggregated...
2022-08-30 23:23:22,098 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:23:22 wrapper.py[line:433] INFO Writing example 0
2022-08-30 23:23:36,047 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 23:23:36 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 23:26:01 modeling.py[line:1101] INFO Found the following 6 subdirectories: ['client4', 'client1', 'aggregated', 'client3', 'client2', 'client0']
19328 - Tue, 30 Aug 2022 23:26:01 modeling.py[line:1107] INFO Example distribution in the original dataset: [1, 0, 1, 2]
19328 - Tue, 30 Aug 2022 23:26:01 modeling.py[line:1111] INFO Target distribution for the new dataset: [5, 0, 5, 10]
19328 - Tue, 30 Aug 2022 23:26:01 modeling.py[line:1147] INFO File /data2/cdq/pet/log_fedpet_augmentation/g1/client0/results.txt: Score = 1, #Logits = 12000, #Labels = 4
19328 - Tue, 30 Aug 2022 23:26:01 modeling.py[line:1302] INFO There are 2819 examples for label 1
19328 - Tue, 30 Aug 2022 23:26:01 modeling.py[line:1302] INFO There are 3327 examples for label 2
19328 - Tue, 30 Aug 2022 23:26:01 modeling.py[line:1302] INFO There are 4064 examples for label 3
19328 - Tue, 30 Aug 2022 23:26:01 modeling.py[line:1302] INFO There are 1790 examples for label 4
19328 - Tue, 30 Aug 2022 23:26:20 modeling.py[line:775] INFO Loading previous aggregated trained model from /data2/cdq/pet/log_fedpet_augmentation/g1/aggregated
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:796] INFO Evaluating soft label~
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:122] INFO Data train-4807 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:122] INFO Data train-6224 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:122] INFO Data train-75282 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:122] INFO Data train-86249 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:122] INFO Data train-34011 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:122] INFO Data train-14900 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:122] INFO Data train-106164 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:122] INFO Data train-15267 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:122] INFO Data train-117732 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:122] INFO Data train-10346 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:122] INFO Data train-24091 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:122] INFO Data train-402 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:122] INFO Data train-95287 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:122] INFO Data train-363 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:122] INFO Data train-96945 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:122] INFO Data train-51556 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:122] INFO Data train-13118 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:122] INFO Data train-15501 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:122] INFO Data train-1906 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:122] INFO Data train-19549 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:131] INFO Inference correct ratio is 1.0
19328 - Tue, 30 Aug 2022 23:26:21 modeling.py[line:907] INFO len of all_train_data: 24
2022-08-30 23:26:21,700 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Tue, 30 Aug 2022 23:26:21 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-30 23:26:21,700 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:26:21 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:01<00:12,  1.43s/it]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:02<00:11,  1.42s/it]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:04<00:09,  1.41s/it]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:05<00:08,  1.40s/it]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:06<00:06,  1.40s/it]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:08<00:05,  1.39s/it]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:09<00:04,  1.40s/it]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:11<00:02,  1.40s/it]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:12<00:01,  1.39s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:13<00:00,  1.39s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:13<00:00,  1.40s/it]
2022-08-30 23:26:35,696 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:26:35 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 23:26:35 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g2/client4...
19328 - Tue, 30 Aug 2022 23:26:36 modeling.py[line:815] INFO Saving complete
2022-08-30 23:26:36,342 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:26:36 wrapper.py[line:433] INFO Writing example 0
2022-08-30 23:26:50,228 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 23:26:50 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 23:28:38 modeling.py[line:828] INFO Starting evaluation...
2022-08-30 23:28:38,754 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:28:38 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 23:28:45 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Tue, 30 Aug 2022 23:28:45 modeling.py[line:851] INFO {'acc': 0.8078947368421052}
19328 - Tue, 30 Aug 2022 23:28:45 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g2/client4
19328 - Tue, 30 Aug 2022 23:28:45 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Tue, 30 Aug 2022 23:28:45 modeling.py[line:991] INFO acc-p1: 0.8078947368421052 +- 0
19328 - Tue, 30 Aug 2022 23:28:45 modeling.py[line:999] INFO acc-all-p: 0.8078947368421052 +- 0
19328 - Tue, 30 Aug 2022 23:28:45 modeling.py[line:502] INFO Gen 3: client_indexes is [5 4 1 2 9]
19328 - Tue, 30 Aug 2022 23:28:45 modeling.py[line:507] INFO Gen3: sample_num_list is [4. 4. 4. 4. 4.]
19328 - Tue, 30 Aug 2022 23:29:08 modeling.py[line:530] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g2/aggregated...
19328 - Tue, 30 Aug 2022 23:29:35 modeling.py[line:547] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g2/aggregated...
2022-08-30 23:29:36,274 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:29:36 wrapper.py[line:433] INFO Writing example 0
2022-08-30 23:29:50,147 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 23:29:50 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 23:31:58 modeling.py[line:1101] INFO Found the following 6 subdirectories: ['client4', 'client1', 'aggregated', 'client3', 'client2', 'client0']
19328 - Tue, 30 Aug 2022 23:31:58 modeling.py[line:1107] INFO Example distribution in the original dataset: [2, 1, 1, 0]
19328 - Tue, 30 Aug 2022 23:31:58 modeling.py[line:1111] INFO Target distribution for the new dataset: [14, 7, 7, 0]
19328 - Tue, 30 Aug 2022 23:31:58 modeling.py[line:1147] INFO File /data2/cdq/pet/log_fedpet_augmentation/g2/client0/results.txt: Score = 1, #Logits = 12000, #Labels = 4
19328 - Tue, 30 Aug 2022 23:31:58 modeling.py[line:1302] INFO There are 3525 examples for label 1
19328 - Tue, 30 Aug 2022 23:31:58 modeling.py[line:1302] INFO There are 3279 examples for label 2
19328 - Tue, 30 Aug 2022 23:31:58 modeling.py[line:1302] INFO There are 3224 examples for label 3
19328 - Tue, 30 Aug 2022 23:31:58 modeling.py[line:1302] INFO There are 1972 examples for label 4
19328 - Tue, 30 Aug 2022 23:32:17 modeling.py[line:775] INFO Loading previous aggregated trained model from /data2/cdq/pet/log_fedpet_augmentation/g2/aggregated
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:796] INFO Evaluating soft label~
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-113948 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-21255 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-17713 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-91813 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-20041 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-72183 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-17904 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-1251 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-79402 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-63338 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-28867 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-47382 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-14653 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-77524 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-5247 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-76039 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-892 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-48086 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-97288 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-96004 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-84017 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-90035 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-64137 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-76381 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-76542 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-20156 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-110805 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:122] INFO Data train-91292 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:131] INFO Inference correct ratio is 1.0
19328 - Tue, 30 Aug 2022 23:32:19 modeling.py[line:907] INFO len of all_train_data: 32
2022-08-30 23:32:19,630 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Tue, 30 Aug 2022 23:32:19 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-30 23:32:19,630 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:32:19 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:01<00:17,  1.91s/it]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:03<00:15,  1.90s/it]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:05<00:13,  1.89s/it]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:07<00:11,  1.89s/it]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:09<00:09,  1.88s/it]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:11<00:07,  1.86s/it]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:13<00:05,  1.85s/it]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:14<00:03,  1.86s/it]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:16<00:01,  1.86s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:18<00:00,  1.85s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:18<00:00,  1.86s/it]
2022-08-30 23:32:38,310 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:32:38 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 23:32:38 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g3/client0...
19328 - Tue, 30 Aug 2022 23:32:38 modeling.py[line:815] INFO Saving complete
2022-08-30 23:32:38,952 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:32:38 wrapper.py[line:433] INFO Writing example 0
2022-08-30 23:32:52,634 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 23:32:52 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 23:34:55 modeling.py[line:828] INFO Starting evaluation...
2022-08-30 23:34:55,416 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:34:55 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 23:35:01 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Tue, 30 Aug 2022 23:35:01 modeling.py[line:851] INFO {'acc': 0.6815789473684211}
19328 - Tue, 30 Aug 2022 23:35:01 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g3/client0
19328 - Tue, 30 Aug 2022 23:35:01 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Tue, 30 Aug 2022 23:35:01 modeling.py[line:991] INFO acc-p1: 0.6815789473684211 +- 0
19328 - Tue, 30 Aug 2022 23:35:01 modeling.py[line:999] INFO acc-all-p: 0.6815789473684211 +- 0
19328 - Tue, 30 Aug 2022 23:36:20 modeling.py[line:530] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g2/aggregated...
19328 - Tue, 30 Aug 2022 23:37:39 modeling.py[line:547] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g2/aggregated...
2022-08-30 23:37:40,664 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:37:40 wrapper.py[line:433] INFO Writing example 0
2022-08-30 23:37:54,266 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 23:37:54 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 23:39:42 modeling.py[line:1101] INFO Found the following 6 subdirectories: ['client4', 'client1', 'aggregated', 'client3', 'client2', 'client0']
19328 - Tue, 30 Aug 2022 23:39:42 modeling.py[line:1107] INFO Example distribution in the original dataset: [3, 1, 0, 0]
19328 - Tue, 30 Aug 2022 23:39:42 modeling.py[line:1111] INFO Target distribution for the new dataset: [21, 7, 0, 0]
19328 - Tue, 30 Aug 2022 23:39:42 modeling.py[line:1147] INFO File /data2/cdq/pet/log_fedpet_augmentation/g2/client0/results.txt: Score = 1, #Logits = 12000, #Labels = 4
19328 - Tue, 30 Aug 2022 23:39:42 modeling.py[line:1302] INFO There are 3546 examples for label 1
19328 - Tue, 30 Aug 2022 23:39:42 modeling.py[line:1302] INFO There are 3246 examples for label 2
19328 - Tue, 30 Aug 2022 23:39:42 modeling.py[line:1302] INFO There are 3335 examples for label 3
19328 - Tue, 30 Aug 2022 23:39:42 modeling.py[line:1302] INFO There are 1873 examples for label 4
19328 - Tue, 30 Aug 2022 23:40:54 modeling.py[line:775] INFO Loading previous aggregated trained model from /data2/cdq/pet/log_fedpet_augmentation/g2/aggregated
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:796] INFO Evaluating soft label~
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-105125 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-37581 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-116161 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-96932 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-12298 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-40305 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-88179 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-87315 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-115364 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-39915 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-39532 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-14178 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-25422 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-106814 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-20057 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-28690 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-30232 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-31116 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-87003 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-31352 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-46761 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-37729 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-41784 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-646 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-1681 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-88769 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-80267 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:122] INFO Data train-39786 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:40:55 modeling.py[line:131] INFO Inference correct ratio is 1.0
19328 - Tue, 30 Aug 2022 23:40:56 modeling.py[line:907] INFO len of all_train_data: 32
2022-08-30 23:40:56,122 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Tue, 30 Aug 2022 23:40:56 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-30 23:40:56,122 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:40:56 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:01<00:16,  1.85s/it]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:03<00:14,  1.84s/it]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:05<00:12,  1.83s/it]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:07<00:10,  1.82s/it]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:09<00:09,  1.81s/it]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:10<00:07,  1.81s/it]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:12<00:05,  1.81s/it]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:14<00:03,  1.81s/it]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:16<00:01,  1.81s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:18<00:00,  1.82s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:18<00:00,  1.81s/it]
2022-08-30 23:41:14,289 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:41:14 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 23:41:14 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g3/client1...
19328 - Tue, 30 Aug 2022 23:41:14 modeling.py[line:815] INFO Saving complete
2022-08-30 23:41:14,831 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:41:14 wrapper.py[line:433] INFO Writing example 0
2022-08-30 23:41:28,716 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 23:41:28 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 23:43:22 modeling.py[line:828] INFO Starting evaluation...
2022-08-30 23:43:22,107 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:43:22 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 23:43:28 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Tue, 30 Aug 2022 23:43:28 modeling.py[line:851] INFO {'acc': 0.6828947368421052}
19328 - Tue, 30 Aug 2022 23:43:28 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g3/client1
19328 - Tue, 30 Aug 2022 23:43:28 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Tue, 30 Aug 2022 23:43:28 modeling.py[line:991] INFO acc-p1: 0.6828947368421052 +- 0
19328 - Tue, 30 Aug 2022 23:43:28 modeling.py[line:999] INFO acc-all-p: 0.6828947368421052 +- 0
19328 - Tue, 30 Aug 2022 23:44:47 modeling.py[line:530] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g2/aggregated...
19328 - Tue, 30 Aug 2022 23:46:06 modeling.py[line:547] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g2/aggregated...
2022-08-30 23:46:06,963 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:46:06 wrapper.py[line:433] INFO Writing example 0
2022-08-30 23:46:20,845 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 23:46:20 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 23:48:02 modeling.py[line:1101] INFO Found the following 6 subdirectories: ['client4', 'client1', 'aggregated', 'client3', 'client2', 'client0']
19328 - Tue, 30 Aug 2022 23:48:02 modeling.py[line:1107] INFO Example distribution in the original dataset: [1, 1, 1, 1]
19328 - Tue, 30 Aug 2022 23:48:02 modeling.py[line:1111] INFO Target distribution for the new dataset: [7, 7, 7, 7]
19328 - Tue, 30 Aug 2022 23:48:02 modeling.py[line:1147] INFO File /data2/cdq/pet/log_fedpet_augmentation/g2/client0/results.txt: Score = 1, #Logits = 12000, #Labels = 4
19328 - Tue, 30 Aug 2022 23:48:02 modeling.py[line:1302] INFO There are 3484 examples for label 1
19328 - Tue, 30 Aug 2022 23:48:02 modeling.py[line:1302] INFO There are 3265 examples for label 2
19328 - Tue, 30 Aug 2022 23:48:02 modeling.py[line:1302] INFO There are 3320 examples for label 3
19328 - Tue, 30 Aug 2022 23:48:02 modeling.py[line:1302] INFO There are 1931 examples for label 4
19328 - Tue, 30 Aug 2022 23:49:14 modeling.py[line:775] INFO Loading previous aggregated trained model from /data2/cdq/pet/log_fedpet_augmentation/g2/aggregated
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:796] INFO Evaluating soft label~
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-25019 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-7578 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-99274 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-33674 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-9888 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-21730 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-76163 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-51022 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-100880 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-7358 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-37588 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-13321 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-38837 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-11195 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-6038 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-28516 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-52356 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-40463 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-11474 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-55539 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-115237 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-85821 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-67514 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-87089 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-89752 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-12313 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-33941 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:122] INFO Data train-34357 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:131] INFO Inference correct ratio is 1.0
19328 - Tue, 30 Aug 2022 23:49:15 modeling.py[line:907] INFO len of all_train_data: 32
2022-08-30 23:49:15,859 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Tue, 30 Aug 2022 23:49:15 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-30 23:49:15,859 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:49:15 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:01<00:16,  1.88s/it]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:03<00:14,  1.87s/it]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:05<00:12,  1.84s/it]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:07<00:11,  1.84s/it]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:09<00:09,  1.86s/it]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:11<00:07,  1.86s/it]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:12<00:05,  1.85s/it]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:14<00:03,  1.84s/it]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:16<00:01,  1.86s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:18<00:00,  1.85s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:18<00:00,  1.85s/it]
2022-08-30 23:49:34,391 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:49:34 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 23:49:34 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g3/client2...
19328 - Tue, 30 Aug 2022 23:49:34 modeling.py[line:815] INFO Saving complete
2022-08-30 23:49:34,931 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:49:34 wrapper.py[line:433] INFO Writing example 0
2022-08-30 23:49:48,527 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 23:49:48 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 23:51:35 modeling.py[line:828] INFO Starting evaluation...
2022-08-30 23:51:35,989 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:51:35 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 23:51:42 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Tue, 30 Aug 2022 23:51:42 modeling.py[line:851] INFO {'acc': 0.8236842105263158}
19328 - Tue, 30 Aug 2022 23:51:42 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g3/client2
19328 - Tue, 30 Aug 2022 23:51:42 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Tue, 30 Aug 2022 23:51:42 modeling.py[line:991] INFO acc-p1: 0.8236842105263158 +- 0
19328 - Tue, 30 Aug 2022 23:51:42 modeling.py[line:999] INFO acc-all-p: 0.8236842105263158 +- 0
19328 - Tue, 30 Aug 2022 23:53:00 modeling.py[line:530] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g2/aggregated...
19328 - Tue, 30 Aug 2022 23:54:19 modeling.py[line:547] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g2/aggregated...
2022-08-30 23:54:20,658 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:54:20 wrapper.py[line:433] INFO Writing example 0
2022-08-30 23:54:34,267 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 23:54:34 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 23:56:10 modeling.py[line:1101] INFO Found the following 6 subdirectories: ['client4', 'client1', 'aggregated', 'client3', 'client2', 'client0']
19328 - Tue, 30 Aug 2022 23:56:10 modeling.py[line:1107] INFO Example distribution in the original dataset: [2, 1, 0, 1]
19328 - Tue, 30 Aug 2022 23:56:10 modeling.py[line:1111] INFO Target distribution for the new dataset: [14, 7, 0, 7]
19328 - Tue, 30 Aug 2022 23:56:10 modeling.py[line:1147] INFO File /data2/cdq/pet/log_fedpet_augmentation/g2/client0/results.txt: Score = 1, #Logits = 12000, #Labels = 4
19328 - Tue, 30 Aug 2022 23:56:10 modeling.py[line:1302] INFO There are 3558 examples for label 1
19328 - Tue, 30 Aug 2022 23:56:10 modeling.py[line:1302] INFO There are 3246 examples for label 2
19328 - Tue, 30 Aug 2022 23:56:10 modeling.py[line:1302] INFO There are 3278 examples for label 3
19328 - Tue, 30 Aug 2022 23:56:10 modeling.py[line:1302] INFO There are 1918 examples for label 4
19328 - Tue, 30 Aug 2022 23:57:22 modeling.py[line:775] INFO Loading previous aggregated trained model from /data2/cdq/pet/log_fedpet_augmentation/g2/aggregated
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:796] INFO Evaluating soft label~
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-14552 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-119580 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-52769 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-101603 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-19644 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-101602 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-75488 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-61922 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-69195 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-2261 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-117213 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-77238 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-11249 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-47892 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-45470 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-111743 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-38539 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-26944 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-44320 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-18589 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-115325 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-109627 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-84140 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-104172 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-23625 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-68681 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-26157 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:122] INFO Data train-26648 is tagged correctly.
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:131] INFO Inference correct ratio is 1.0
19328 - Tue, 30 Aug 2022 23:57:23 modeling.py[line:907] INFO len of all_train_data: 32
2022-08-30 23:57:23,473 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Tue, 30 Aug 2022 23:57:23 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-30 23:57:23,473 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:57:23 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:01<00:17,  1.92s/it]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:03<00:15,  1.89s/it]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:05<00:13,  1.88s/it]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:07<00:11,  1.86s/it]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:09<00:09,  1.86s/it]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:11<00:07,  1.85s/it]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:12<00:05,  1.85s/it]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:14<00:03,  1.84s/it]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:16<00:01,  1.88s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:18<00:00,  1.87s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:18<00:00,  1.86s/it]
2022-08-30 23:57:42,105 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:57:42 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 23:57:42 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g3/client3...
19328 - Tue, 30 Aug 2022 23:57:42 modeling.py[line:815] INFO Saving complete
2022-08-30 23:57:42,675 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:57:42 wrapper.py[line:433] INFO Writing example 0
2022-08-30 23:57:56,307 - INFO - wrapper - Writing example 10000
19328 - Tue, 30 Aug 2022 23:57:56 wrapper.py[line:433] INFO Writing example 10000
19328 - Tue, 30 Aug 2022 23:59:37 modeling.py[line:828] INFO Starting evaluation...
2022-08-30 23:59:37,340 - INFO - wrapper - Writing example 0
19328 - Tue, 30 Aug 2022 23:59:37 wrapper.py[line:433] INFO Writing example 0
19328 - Tue, 30 Aug 2022 23:59:43 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Tue, 30 Aug 2022 23:59:43 modeling.py[line:851] INFO {'acc': 0.6934210526315789}
19328 - Tue, 30 Aug 2022 23:59:43 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g3/client3
19328 - Tue, 30 Aug 2022 23:59:43 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Tue, 30 Aug 2022 23:59:43 modeling.py[line:991] INFO acc-p1: 0.6934210526315789 +- 0
19328 - Tue, 30 Aug 2022 23:59:43 modeling.py[line:999] INFO acc-all-p: 0.6934210526315789 +- 0
19328 - Wed, 31 Aug 2022 00:01:02 modeling.py[line:530] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g2/aggregated...
19328 - Wed, 31 Aug 2022 00:02:21 modeling.py[line:547] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g2/aggregated...
2022-08-31 00:02:22,247 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:02:22 wrapper.py[line:433] INFO Writing example 0
2022-08-31 00:02:36,070 - INFO - wrapper - Writing example 10000
19328 - Wed, 31 Aug 2022 00:02:36 wrapper.py[line:433] INFO Writing example 10000
19328 - Wed, 31 Aug 2022 00:04:11 modeling.py[line:1101] INFO Found the following 6 subdirectories: ['client4', 'client1', 'aggregated', 'client3', 'client2', 'client0']
19328 - Wed, 31 Aug 2022 00:04:11 modeling.py[line:1107] INFO Example distribution in the original dataset: [2, 0, 1, 1]
19328 - Wed, 31 Aug 2022 00:04:11 modeling.py[line:1111] INFO Target distribution for the new dataset: [14, 0, 7, 7]
19328 - Wed, 31 Aug 2022 00:04:11 modeling.py[line:1147] INFO File /data2/cdq/pet/log_fedpet_augmentation/g2/client0/results.txt: Score = 1, #Logits = 12000, #Labels = 4
19328 - Wed, 31 Aug 2022 00:04:11 modeling.py[line:1302] INFO There are 3470 examples for label 1
19328 - Wed, 31 Aug 2022 00:04:11 modeling.py[line:1302] INFO There are 3352 examples for label 2
19328 - Wed, 31 Aug 2022 00:04:11 modeling.py[line:1302] INFO There are 3243 examples for label 3
19328 - Wed, 31 Aug 2022 00:04:11 modeling.py[line:1302] INFO There are 1935 examples for label 4
19328 - Wed, 31 Aug 2022 00:05:23 modeling.py[line:775] INFO Loading previous aggregated trained model from /data2/cdq/pet/log_fedpet_augmentation/g2/aggregated
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:796] INFO Evaluating soft label~
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-101699 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-60332 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-13133 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-56272 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-35349 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-57602 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-46984 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-87304 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-80599 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-111551 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-25112 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-111054 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-17985 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-107213 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-28910 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-29716 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-39121 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-117105 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-46125 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-40654 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-92685 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-26467 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-1930 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-67350 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-48655 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-43704 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-115682 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:122] INFO Data train-107474 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:131] INFO Inference correct ratio is 1.0
19328 - Wed, 31 Aug 2022 00:05:24 modeling.py[line:907] INFO len of all_train_data: 32
2022-08-31 00:05:24,584 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Wed, 31 Aug 2022 00:05:24 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-31 00:05:24,584 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:05:24 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:01<00:17,  1.91s/it]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:03<00:15,  1.90s/it]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:05<00:13,  1.89s/it]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:07<00:11,  1.88s/it]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:09<00:09,  1.87s/it]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:11<00:07,  1.87s/it]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:13<00:05,  1.87s/it]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:14<00:03,  1.86s/it]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:16<00:01,  1.87s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:18<00:00,  1.87s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:18<00:00,  1.87s/it]
2022-08-31 00:05:43,327 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:05:43 wrapper.py[line:433] INFO Writing example 0
19328 - Wed, 31 Aug 2022 00:05:43 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g3/client4...
19328 - Wed, 31 Aug 2022 00:05:43 modeling.py[line:815] INFO Saving complete
2022-08-31 00:05:43,842 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:05:43 wrapper.py[line:433] INFO Writing example 0
2022-08-31 00:05:57,652 - INFO - wrapper - Writing example 10000
19328 - Wed, 31 Aug 2022 00:05:57 wrapper.py[line:433] INFO Writing example 10000
19328 - Wed, 31 Aug 2022 00:07:33 modeling.py[line:828] INFO Starting evaluation...
2022-08-31 00:07:33,655 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:07:33 wrapper.py[line:433] INFO Writing example 0
19328 - Wed, 31 Aug 2022 00:07:39 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Wed, 31 Aug 2022 00:07:39 modeling.py[line:851] INFO {'acc': 0.7973684210526316}
19328 - Wed, 31 Aug 2022 00:07:39 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g3/client4
19328 - Wed, 31 Aug 2022 00:07:39 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Wed, 31 Aug 2022 00:07:39 modeling.py[line:991] INFO acc-p1: 0.7973684210526316 +- 0
19328 - Wed, 31 Aug 2022 00:07:39 modeling.py[line:999] INFO acc-all-p: 0.7973684210526316 +- 0
19328 - Wed, 31 Aug 2022 00:07:39 modeling.py[line:502] INFO Gen 4: client_indexes is [3 8 4 9 2]
19328 - Wed, 31 Aug 2022 00:07:39 modeling.py[line:507] INFO Gen4: sample_num_list is [4. 4. 4. 4. 4.]
19328 - Wed, 31 Aug 2022 00:08:59 modeling.py[line:530] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g3/aggregated...
19328 - Wed, 31 Aug 2022 00:10:17 modeling.py[line:547] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g3/aggregated...
2022-08-31 00:10:18,724 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:10:18 wrapper.py[line:433] INFO Writing example 0
2022-08-31 00:10:32,458 - INFO - wrapper - Writing example 10000
19328 - Wed, 31 Aug 2022 00:10:32 wrapper.py[line:433] INFO Writing example 10000
19328 - Wed, 31 Aug 2022 00:12:08 modeling.py[line:1101] INFO Found the following 6 subdirectories: ['client4', 'client1', 'aggregated', 'client3', 'client2', 'client0']
19328 - Wed, 31 Aug 2022 00:12:08 modeling.py[line:1107] INFO Example distribution in the original dataset: [0, 2, 1, 1]
19328 - Wed, 31 Aug 2022 00:12:08 modeling.py[line:1111] INFO Target distribution for the new dataset: [0, 18, 9, 9]
19328 - Wed, 31 Aug 2022 00:12:08 modeling.py[line:1147] INFO File /data2/cdq/pet/log_fedpet_augmentation/g3/client0/results.txt: Score = 1, #Logits = 12000, #Labels = 4
19328 - Wed, 31 Aug 2022 00:12:08 modeling.py[line:1302] INFO There are 4609 examples for label 1
19328 - Wed, 31 Aug 2022 00:12:08 modeling.py[line:1302] INFO There are 3126 examples for label 2
19328 - Wed, 31 Aug 2022 00:12:08 modeling.py[line:1302] INFO There are 2415 examples for label 3
19328 - Wed, 31 Aug 2022 00:12:08 modeling.py[line:1302] INFO There are 1850 examples for label 4
19328 - Wed, 31 Aug 2022 00:12:20 modeling.py[line:775] INFO Loading previous aggregated trained model from /data2/cdq/pet/log_fedpet_augmentation/g3/aggregated
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:796] INFO Evaluating soft label~
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-4683 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-115345 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-33881 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-58039 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-58814 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-53226 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-51493 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-65354 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-12823 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-81641 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-101713 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-64338 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-47316 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-32405 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-715 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-41355 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-13696 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-24491 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-78677 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-60130 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-57006 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-113708 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-100653 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-115645 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-5355 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-16649 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-42444 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-7673 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-108045 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-75717 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-79075 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-59415 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-20685 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-63301 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-94020 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:122] INFO Data train-88454 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:131] INFO Inference correct ratio is 1.0
19328 - Wed, 31 Aug 2022 00:12:22 modeling.py[line:907] INFO len of all_train_data: 40
2022-08-31 00:12:22,226 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Wed, 31 Aug 2022 00:12:22 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-31 00:12:22,226 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:12:22 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:01<00:09,  1.10s/it]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:02<00:08,  1.09s/it]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:03<00:07,  1.08s/it]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:04<00:06,  1.08s/it]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:05<00:05,  1.07s/it]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:06<00:04,  1.07s/it]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:08<00:03,  1.25s/it]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:10<00:03,  1.54s/it]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:12<00:01,  1.75s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:14<00:00,  1.90s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:14<00:00,  1.48s/it]
2022-08-31 00:12:37,090 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:12:37 wrapper.py[line:433] INFO Writing example 0
19328 - Wed, 31 Aug 2022 00:12:37 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g4/client0...
19328 - Wed, 31 Aug 2022 00:12:37 modeling.py[line:815] INFO Saving complete
2022-08-31 00:12:37,688 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:12:37 wrapper.py[line:433] INFO Writing example 0
2022-08-31 00:12:51,223 - INFO - wrapper - Writing example 10000
19328 - Wed, 31 Aug 2022 00:12:51 wrapper.py[line:433] INFO Writing example 10000
19328 - Wed, 31 Aug 2022 00:15:39 modeling.py[line:828] INFO Starting evaluation...
2022-08-31 00:15:39,825 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:15:39 wrapper.py[line:433] INFO Writing example 0
19328 - Wed, 31 Aug 2022 00:15:46 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Wed, 31 Aug 2022 00:15:46 modeling.py[line:851] INFO {'acc': 0.8460526315789474}
19328 - Wed, 31 Aug 2022 00:15:46 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g4/client0
19328 - Wed, 31 Aug 2022 00:15:46 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Wed, 31 Aug 2022 00:15:46 modeling.py[line:991] INFO acc-p1: 0.8460526315789474 +- 0
19328 - Wed, 31 Aug 2022 00:15:46 modeling.py[line:999] INFO acc-all-p: 0.8460526315789474 +- 0
19328 - Wed, 31 Aug 2022 00:16:08 modeling.py[line:530] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g3/aggregated...
19328 - Wed, 31 Aug 2022 00:16:30 modeling.py[line:547] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g3/aggregated...
2022-08-31 00:16:30,560 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:16:30 wrapper.py[line:433] INFO Writing example 0
2022-08-31 00:16:44,058 - INFO - wrapper - Writing example 10000
19328 - Wed, 31 Aug 2022 00:16:44 wrapper.py[line:433] INFO Writing example 10000
19328 - Wed, 31 Aug 2022 00:19:31 modeling.py[line:1101] INFO Found the following 6 subdirectories: ['client4', 'client1', 'aggregated', 'client3', 'client2', 'client0']
19328 - Wed, 31 Aug 2022 00:19:31 modeling.py[line:1107] INFO Example distribution in the original dataset: [0, 2, 2, 0]
19328 - Wed, 31 Aug 2022 00:19:31 modeling.py[line:1111] INFO Target distribution for the new dataset: [0, 18, 18, 0]
19328 - Wed, 31 Aug 2022 00:19:31 modeling.py[line:1147] INFO File /data2/cdq/pet/log_fedpet_augmentation/g3/client0/results.txt: Score = 1, #Logits = 12000, #Labels = 4
19328 - Wed, 31 Aug 2022 00:19:31 modeling.py[line:1302] INFO There are 4478 examples for label 1
19328 - Wed, 31 Aug 2022 00:19:31 modeling.py[line:1302] INFO There are 3213 examples for label 2
19328 - Wed, 31 Aug 2022 00:19:31 modeling.py[line:1302] INFO There are 2546 examples for label 3
19328 - Wed, 31 Aug 2022 00:19:31 modeling.py[line:1302] INFO There are 1763 examples for label 4
19328 - Wed, 31 Aug 2022 00:19:46 modeling.py[line:775] INFO Loading previous aggregated trained model from /data2/cdq/pet/log_fedpet_augmentation/g3/aggregated
19328 - Wed, 31 Aug 2022 00:19:47 modeling.py[line:796] INFO Evaluating soft label~
19328 - Wed, 31 Aug 2022 00:19:47 modeling.py[line:122] INFO Data train-112504 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-60266 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-18811 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-16147 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-746 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-97587 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-32804 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-52709 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-79140 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-106960 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-12594 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-60415 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-98492 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-110090 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-86063 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-8540 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-75269 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-66676 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-3875 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-50783 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-22715 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-113274 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-52894 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-57481 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-45182 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-64947 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-25923 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-40437 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-66450 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-3904 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-119293 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-90397 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-91731 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-34257 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-30516 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:122] INFO Data train-87659 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:131] INFO Inference correct ratio is 1.0
19328 - Wed, 31 Aug 2022 00:19:48 modeling.py[line:907] INFO len of all_train_data: 40
2022-08-31 00:19:48,186 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Wed, 31 Aug 2022 00:19:48 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-31 00:19:48,186 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:19:48 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:01<00:09,  1.09s/it]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:02<00:08,  1.08s/it]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:03<00:07,  1.07s/it]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:04<00:06,  1.07s/it]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:05<00:05,  1.06s/it]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:06<00:04,  1.06s/it]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:07<00:03,  1.06s/it]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:08<00:02,  1.06s/it]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:09<00:01,  1.06s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:10<00:00,  1.14s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:10<00:00,  1.09s/it]
2022-08-31 00:19:59,106 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:19:59 wrapper.py[line:433] INFO Writing example 0
19328 - Wed, 31 Aug 2022 00:19:59 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g4/client1...
19328 - Wed, 31 Aug 2022 00:19:59 modeling.py[line:815] INFO Saving complete
2022-08-31 00:19:59,635 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:19:59 wrapper.py[line:433] INFO Writing example 0
2022-08-31 00:20:13,334 - INFO - wrapper - Writing example 10000
19328 - Wed, 31 Aug 2022 00:20:13 wrapper.py[line:433] INFO Writing example 10000
19328 - Wed, 31 Aug 2022 00:23:06 modeling.py[line:828] INFO Starting evaluation...
2022-08-31 00:23:06,819 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:23:06 wrapper.py[line:433] INFO Writing example 0
19328 - Wed, 31 Aug 2022 00:23:12 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Wed, 31 Aug 2022 00:23:12 modeling.py[line:851] INFO {'acc': 0.5342105263157895}
19328 - Wed, 31 Aug 2022 00:23:12 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g4/client1
19328 - Wed, 31 Aug 2022 00:23:13 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Wed, 31 Aug 2022 00:23:13 modeling.py[line:991] INFO acc-p1: 0.5342105263157895 +- 0
19328 - Wed, 31 Aug 2022 00:23:13 modeling.py[line:999] INFO acc-all-p: 0.5342105263157895 +- 0
19328 - Wed, 31 Aug 2022 00:23:32 modeling.py[line:530] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g3/aggregated...
19328 - Wed, 31 Aug 2022 00:23:52 modeling.py[line:547] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g3/aggregated...
2022-08-31 00:23:53,503 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:23:53 wrapper.py[line:433] INFO Writing example 0
2022-08-31 00:24:07,426 - INFO - wrapper - Writing example 10000
19328 - Wed, 31 Aug 2022 00:24:07 wrapper.py[line:433] INFO Writing example 10000
19328 - Wed, 31 Aug 2022 00:26:54 modeling.py[line:1101] INFO Found the following 6 subdirectories: ['client4', 'client1', 'aggregated', 'client3', 'client2', 'client0']
19328 - Wed, 31 Aug 2022 00:26:54 modeling.py[line:1107] INFO Example distribution in the original dataset: [3, 1, 0, 0]
19328 - Wed, 31 Aug 2022 00:26:54 modeling.py[line:1111] INFO Target distribution for the new dataset: [27, 9, 0, 0]
19328 - Wed, 31 Aug 2022 00:26:54 modeling.py[line:1147] INFO File /data2/cdq/pet/log_fedpet_augmentation/g3/client0/results.txt: Score = 1, #Logits = 12000, #Labels = 4
19328 - Wed, 31 Aug 2022 00:26:54 modeling.py[line:1302] INFO There are 4620 examples for label 1
19328 - Wed, 31 Aug 2022 00:26:54 modeling.py[line:1302] INFO There are 3138 examples for label 2
19328 - Wed, 31 Aug 2022 00:26:54 modeling.py[line:1302] INFO There are 2535 examples for label 3
19328 - Wed, 31 Aug 2022 00:26:54 modeling.py[line:1302] INFO There are 1707 examples for label 4
19328 - Wed, 31 Aug 2022 00:27:07 modeling.py[line:775] INFO Loading previous aggregated trained model from /data2/cdq/pet/log_fedpet_augmentation/g3/aggregated
19328 - Wed, 31 Aug 2022 00:27:08 modeling.py[line:796] INFO Evaluating soft label~
19328 - Wed, 31 Aug 2022 00:27:08 modeling.py[line:122] INFO Data train-105125 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:08 modeling.py[line:122] INFO Data train-45915 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:08 modeling.py[line:122] INFO Data train-70019 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:08 modeling.py[line:122] INFO Data train-16973 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:08 modeling.py[line:122] INFO Data train-12298 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:08 modeling.py[line:122] INFO Data train-10334 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:08 modeling.py[line:122] INFO Data train-69075 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-2019 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-2143 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-77876 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-92898 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-104173 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-31844 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-20057 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-17848 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-38973 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-45967 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-19498 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-86785 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-79984 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-33912 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-43259 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-113596 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-106973 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-4453 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-107080 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-20322 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-20076 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-67663 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-88614 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-96572 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-90592 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-110741 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-70713 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-94285 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:122] INFO Data train-98109 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:131] INFO Inference correct ratio is 1.0
19328 - Wed, 31 Aug 2022 00:27:09 modeling.py[line:907] INFO len of all_train_data: 40
2022-08-31 00:27:09,174 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Wed, 31 Aug 2022 00:27:09 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-31 00:27:09,175 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:27:09 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:01<00:09,  1.06s/it]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:02<00:08,  1.06s/it]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:03<00:07,  1.06s/it]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:04<00:06,  1.06s/it]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:05<00:05,  1.06s/it]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:06<00:04,  1.06s/it]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:07<00:03,  1.06s/it]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:08<00:02,  1.06s/it]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:09<00:01,  1.06s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:10<00:00,  1.06s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:10<00:00,  1.06s/it]
2022-08-31 00:27:19,809 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:27:19 wrapper.py[line:433] INFO Writing example 0
19328 - Wed, 31 Aug 2022 00:27:19 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g4/client2...
19328 - Wed, 31 Aug 2022 00:27:20 modeling.py[line:815] INFO Saving complete
2022-08-31 00:27:20,378 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:27:20 wrapper.py[line:433] INFO Writing example 0
2022-08-31 00:27:33,922 - INFO - wrapper - Writing example 10000
19328 - Wed, 31 Aug 2022 00:27:33 wrapper.py[line:433] INFO Writing example 10000
19328 - Wed, 31 Aug 2022 00:30:28 modeling.py[line:828] INFO Starting evaluation...
2022-08-31 00:30:28,485 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:30:28 wrapper.py[line:433] INFO Writing example 0
19328 - Wed, 31 Aug 2022 00:30:34 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Wed, 31 Aug 2022 00:30:34 modeling.py[line:851] INFO {'acc': 0.5105263157894737}
19328 - Wed, 31 Aug 2022 00:30:34 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g4/client2
19328 - Wed, 31 Aug 2022 00:30:34 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Wed, 31 Aug 2022 00:30:34 modeling.py[line:991] INFO acc-p1: 0.5105263157894737 +- 0
19328 - Wed, 31 Aug 2022 00:30:34 modeling.py[line:999] INFO acc-all-p: 0.5105263157894737 +- 0
19328 - Wed, 31 Aug 2022 00:31:53 modeling.py[line:530] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g3/aggregated...
19328 - Wed, 31 Aug 2022 00:33:12 modeling.py[line:547] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g3/aggregated...
2022-08-31 00:33:13,306 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:33:13 wrapper.py[line:433] INFO Writing example 0
2022-08-31 00:33:26,894 - INFO - wrapper - Writing example 10000
19328 - Wed, 31 Aug 2022 00:33:26 wrapper.py[line:433] INFO Writing example 10000
19328 - Wed, 31 Aug 2022 00:35:49 modeling.py[line:1101] INFO Found the following 6 subdirectories: ['client4', 'client1', 'aggregated', 'client3', 'client2', 'client0']
19328 - Wed, 31 Aug 2022 00:35:49 modeling.py[line:1107] INFO Example distribution in the original dataset: [2, 0, 1, 1]
19328 - Wed, 31 Aug 2022 00:35:49 modeling.py[line:1111] INFO Target distribution for the new dataset: [18, 0, 9, 9]
19328 - Wed, 31 Aug 2022 00:35:49 modeling.py[line:1147] INFO File /data2/cdq/pet/log_fedpet_augmentation/g3/client0/results.txt: Score = 1, #Logits = 12000, #Labels = 4
19328 - Wed, 31 Aug 2022 00:35:49 modeling.py[line:1302] INFO There are 4530 examples for label 1
19328 - Wed, 31 Aug 2022 00:35:49 modeling.py[line:1302] INFO There are 3241 examples for label 2
19328 - Wed, 31 Aug 2022 00:35:49 modeling.py[line:1302] INFO There are 2499 examples for label 3
19328 - Wed, 31 Aug 2022 00:35:49 modeling.py[line:1302] INFO There are 1730 examples for label 4
19328 - Wed, 31 Aug 2022 00:37:00 modeling.py[line:775] INFO Loading previous aggregated trained model from /data2/cdq/pet/log_fedpet_augmentation/g3/aggregated
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:796] INFO Evaluating soft label~
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-82557 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-41114 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-37649 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-72465 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-106131 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-70111 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-6428 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-59663 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-97064 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-16749 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-102769 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-74395 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-11592 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-44470 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-8256 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-2981 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-55549 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-4804 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-7878 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-94736 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-21135 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-81663 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-17188 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-72110 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-84790 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-119587 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-18004 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-64665 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-34571 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-115852 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-32483 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-21001 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-119034 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-98771 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-109055 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:122] INFO Data train-89659 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:131] INFO Inference correct ratio is 1.0
19328 - Wed, 31 Aug 2022 00:37:02 modeling.py[line:907] INFO len of all_train_data: 40
2022-08-31 00:37:02,741 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Wed, 31 Aug 2022 00:37:02 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-31 00:37:02,741 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:37:02 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:02<00:19,  2.22s/it]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:04<00:17,  2.23s/it]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:06<00:15,  2.23s/it]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:08<00:13,  2.24s/it]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:11<00:11,  2.24s/it]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:13<00:08,  2.24s/it]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:15<00:06,  2.24s/it]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:17<00:04,  2.24s/it]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:20<00:02,  2.24s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:22<00:00,  2.24s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:22<00:00,  2.24s/it]
2022-08-31 00:37:25,194 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:37:25 wrapper.py[line:433] INFO Writing example 0
19328 - Wed, 31 Aug 2022 00:37:25 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g4/client3...
19328 - Wed, 31 Aug 2022 00:37:25 modeling.py[line:815] INFO Saving complete
2022-08-31 00:37:25,770 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:37:25 wrapper.py[line:433] INFO Writing example 0
2022-08-31 00:37:39,469 - INFO - wrapper - Writing example 10000
19328 - Wed, 31 Aug 2022 00:37:39 wrapper.py[line:433] INFO Writing example 10000
19328 - Wed, 31 Aug 2022 00:40:08 modeling.py[line:828] INFO Starting evaluation...
2022-08-31 00:40:08,369 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:40:08 wrapper.py[line:433] INFO Writing example 0
19328 - Wed, 31 Aug 2022 00:40:14 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Wed, 31 Aug 2022 00:40:14 modeling.py[line:851] INFO {'acc': 0.7355263157894737}
19328 - Wed, 31 Aug 2022 00:40:14 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g4/client3
19328 - Wed, 31 Aug 2022 00:40:14 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Wed, 31 Aug 2022 00:40:14 modeling.py[line:991] INFO acc-p1: 0.7355263157894737 +- 0
19328 - Wed, 31 Aug 2022 00:40:14 modeling.py[line:999] INFO acc-all-p: 0.7355263157894737 +- 0
19328 - Wed, 31 Aug 2022 00:41:33 modeling.py[line:530] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g3/aggregated...
19328 - Wed, 31 Aug 2022 00:42:52 modeling.py[line:547] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g3/aggregated...
2022-08-31 00:42:53,293 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:42:53 wrapper.py[line:433] INFO Writing example 0
2022-08-31 00:43:07,120 - INFO - wrapper - Writing example 10000
19328 - Wed, 31 Aug 2022 00:43:07 wrapper.py[line:433] INFO Writing example 10000
19328 - Wed, 31 Aug 2022 00:45:23 modeling.py[line:1101] INFO Found the following 6 subdirectories: ['client4', 'client1', 'aggregated', 'client3', 'client2', 'client0']
19328 - Wed, 31 Aug 2022 00:45:23 modeling.py[line:1107] INFO Example distribution in the original dataset: [2, 1, 0, 1]
19328 - Wed, 31 Aug 2022 00:45:23 modeling.py[line:1111] INFO Target distribution for the new dataset: [18, 9, 0, 9]
19328 - Wed, 31 Aug 2022 00:45:23 modeling.py[line:1147] INFO File /data2/cdq/pet/log_fedpet_augmentation/g3/client0/results.txt: Score = 1, #Logits = 12000, #Labels = 4
19328 - Wed, 31 Aug 2022 00:45:23 modeling.py[line:1302] INFO There are 4638 examples for label 1
19328 - Wed, 31 Aug 2022 00:45:23 modeling.py[line:1302] INFO There are 3139 examples for label 2
19328 - Wed, 31 Aug 2022 00:45:23 modeling.py[line:1302] INFO There are 2477 examples for label 3
19328 - Wed, 31 Aug 2022 00:45:23 modeling.py[line:1302] INFO There are 1746 examples for label 4
19328 - Wed, 31 Aug 2022 00:46:35 modeling.py[line:775] INFO Loading previous aggregated trained model from /data2/cdq/pet/log_fedpet_augmentation/g3/aggregated
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:796] INFO Evaluating soft label~
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-36911 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-41608 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-20136 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-116035 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-37123 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-52018 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-108992 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-61971 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-100414 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-114895 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-103314 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-29859 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-6069 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-68384 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-6922 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-118195 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-108073 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-56242 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-29449 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-29049 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-90701 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-18196 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-51940 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-1810 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-46555 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-50954 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-87234 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-34822 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-53518 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-78163 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-20724 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-33688 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-86290 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-111704 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-67644 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:122] INFO Data train-114257 is tagged correctly.
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:131] INFO Inference correct ratio is 1.0
19328 - Wed, 31 Aug 2022 00:46:36 modeling.py[line:907] INFO len of all_train_data: 40
2022-08-31 00:46:36,490 - INFO - wrapper - CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
19328 - Wed, 31 Aug 2022 00:46:36 wrapper.py[line:234] INFO CDQ: n_gpu: 1, per_gpu_train_batch_size: 4, train_batch_size: 4
2022-08-31 00:46:36,490 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:46:36 wrapper.py[line:433] INFO Writing example 0
Epoch:   0%|          | 0/10 [00:00<?, ?it/s]Epoch:  10%|â–ˆ         | 1/10 [00:02<00:20,  2.26s/it]Epoch:  20%|â–ˆâ–ˆ        | 2/10 [00:04<00:18,  2.26s/it]Epoch:  30%|â–ˆâ–ˆâ–ˆ       | 3/10 [00:06<00:15,  2.25s/it]Epoch:  40%|â–ˆâ–ˆâ–ˆâ–ˆ      | 4/10 [00:09<00:13,  2.25s/it]Epoch:  50%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     | 5/10 [00:11<00:11,  2.25s/it]Epoch:  60%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    | 6/10 [00:13<00:08,  2.25s/it]Epoch:  70%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ   | 7/10 [00:15<00:06,  2.25s/it]Epoch:  80%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  | 8/10 [00:17<00:04,  2.25s/it]Epoch:  90%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ | 9/10 [00:20<00:02,  2.24s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:22<00:00,  2.24s/it]Epoch: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 10/10 [00:22<00:00,  2.25s/it]
2022-08-31 00:46:59,014 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:46:59 wrapper.py[line:433] INFO Writing example 0
19328 - Wed, 31 Aug 2022 00:46:59 modeling.py[line:811] INFO Saving trained model at /data2/cdq/pet/log_fedpet_augmentation/g4/client4...
19328 - Wed, 31 Aug 2022 00:46:59 modeling.py[line:815] INFO Saving complete
2022-08-31 00:46:59,592 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:46:59 wrapper.py[line:433] INFO Writing example 0
2022-08-31 00:47:13,449 - INFO - wrapper - Writing example 10000
19328 - Wed, 31 Aug 2022 00:47:13 wrapper.py[line:433] INFO Writing example 10000
19328 - Wed, 31 Aug 2022 00:49:47 modeling.py[line:828] INFO Starting evaluation...
2022-08-31 00:49:47,553 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:49:47 wrapper.py[line:433] INFO Writing example 0
19328 - Wed, 31 Aug 2022 00:49:53 modeling.py[line:850] INFO --- RESULT (pattern_id=1, iteration=0) ---
19328 - Wed, 31 Aug 2022 00:49:53 modeling.py[line:851] INFO {'acc': 0.7236842105263158}
19328 - Wed, 31 Aug 2022 00:49:53 modeling.py[line:852] INFO /data2/cdq/pet/log_fedpet_augmentation/g4/client4
19328 - Wed, 31 Aug 2022 00:49:53 modeling.py[line:866] INFO === OVERALL RESULTS ===
19328 - Wed, 31 Aug 2022 00:49:53 modeling.py[line:991] INFO acc-p1: 0.7236842105263158 +- 0
19328 - Wed, 31 Aug 2022 00:49:53 modeling.py[line:999] INFO acc-all-p: 0.7236842105263158 +- 0
19328 - Wed, 31 Aug 2022 00:49:53 modeling.py[line:103] INFO Delete model cache /data2/cdq/pet/log_fedpet_augmentation/g2
19328 - Wed, 31 Aug 2022 00:49:54 modeling.py[line:502] INFO Gen 5: client_indexes is [9 5 2 4 7]
19328 - Wed, 31 Aug 2022 00:49:54 modeling.py[line:507] INFO Gen5: sample_num_list is [4. 4. 4. 4. 4.]
19328 - Wed, 31 Aug 2022 00:51:14 modeling.py[line:530] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g4/aggregated...
19328 - Wed, 31 Aug 2022 00:52:33 modeling.py[line:547] INFO Saving aggregated trained model at /data2/cdq/pet/log_fedpet_augmentation/g4/aggregated...
2022-08-31 00:52:34,439 - INFO - wrapper - Writing example 0
19328 - Wed, 31 Aug 2022 00:52:34 wrapper.py[line:433] INFO Writing example 0
2022-08-31 00:52:48,234 - INFO - wrapper - Writing example 10000
19328 - Wed, 31 Aug 2022 00:52:48 wrapper.py[line:433] INFO Writing example 10000
client4   no aggregated data
client1   no aggregated data
aggregated   no aggregated data
client3   no aggregated data
client2   no aggregated data
client0   has aggregated data
client4   no aggregated data
client1   no aggregated data
aggregated   no aggregated data
client3   no aggregated data
client2   no aggregated data
client0   has aggregated data
client4   no aggregated data
client1   no aggregated data
aggregated   no aggregated data
client3   no aggregated data
client2   no aggregated data
client0   has aggregated data
client4   no aggregated data
client1   no aggregated data
aggregated   no aggregated data
client3   no aggregated data
client2   no aggregated data
client0   has aggregated data
client4   no aggregated data
client1   no aggregated data
aggregated   no aggregated data
client3   no aggregated data
client2   no aggregated data
client0   has aggregated data
client4   no aggregated data
client1   no aggregated data
aggregated   no aggregated data
client3   no aggregated data
client2   no aggregated data
client0   has aggregated data
client4   no aggregated data
client1   no aggregated data
aggregated   no aggregated data
client3   no aggregated data
client2   no aggregated data
client0   has aggregated data
client4   no aggregated data
client1   no aggregated data
aggregated   no aggregated data
client3   no aggregated data
client2   no aggregated data
client0   has aggregated data
client4   no aggregated data
client1   no aggregated data
aggregated   no aggregated data
client3   no aggregated data
client2   no aggregated data
client0   has aggregated data
client4   no aggregated data
client1   no aggregated data
aggregated   no aggregated data
client3   no aggregated data
client2   no aggregated data
client0   has aggregated data
client4   no aggregated data
client1   no aggregated data
aggregated   no aggregated data
client3   no aggregated data
client2   no aggregated data
client0   has aggregated data
client4   no aggregated data
client1   no aggregated data
aggregated   no aggregated data
client3   no aggregated data
client2   no aggregated data
client0   has aggregated data
client4   no aggregated data
client1   no aggregated data
aggregated   no aggregated data
client3   no aggregated data
client2   no aggregated data
client0   has aggregated data
client4   no aggregated data
client1   no aggregated data
aggregated   no aggregated data
client3   no aggregated data
client2   no aggregated data
client0   has aggregated data
client4   no aggregated data
client1   no aggregated data
aggregated   no aggregated data
client3   no aggregated data
client2   no aggregated data
client0   has aggregated data
client4   no aggregated data
client1   no aggregated data
aggregated   no aggregated data
client3   no aggregated data
client2   no aggregated data
client0   has aggregated data
client4   no aggregated data
client1   no aggregated data
aggregated   no aggregated data
client3   no aggregated data
client2   no aggregated data
client0   has aggregated data
client4   no aggregated data
client1   no aggregated data
aggregated   no aggregated data
client3   no aggregated data
client2   no aggregated data
client0   has aggregated data
client4   no aggregated data
client1   no aggregated data
aggregated   no aggregated data
client3   no aggregated data
client2   no aggregated data
client0   has aggregated data
client4   no aggregated data
client1   no aggregated data
aggregated   no aggregated data
client3   no aggregated data
client2   no aggregated data
client0   has aggregated data
Traceback (most recent call last):
  File "cli.py", line 311, in <module>
    main()
  File "cli.py", line 299, in main
    eval_data=eval_data, do_train=args.do_train, do_eval=args.do_eval, seed=args.seed, aggregated=args.aggregated, vanilla=args.vanilla, fed=args.fed, augmentation=args.augmentation, beta=args.beta)
  File "/home/cdq/FedPet/pet/modeling.py", line 549, in train_fedpet
    logits = evaluate(wrapper, unlabeled_data, ensemble_eval_config)['logits']
  File "/home/cdq/FedPet/pet/modeling.py", line 962, in evaluate
    n_gpu=config.n_gpu, decoding_strategy=config.decoding_strategy, priming=config.priming)
  File "/home/cdq/FedPet/pet/wrapper.py", line 386, in eval
    logits = EVALUATION_STEP_FUNCTIONS[self.config.wrapper_type](self)(batch)
  File "/home/cdq/FedPet/pet/wrapper.py", line 535, in mlm_eval_step
    return self.preprocessor.pvp.convert_mlm_logits_to_cls_logits(batch['mlm_labels'], outputs[0])
  File "/home/cdq/FedPet/pet/pvp.py", line 216, in convert_mlm_logits_to_cls_logits
    masked_logits = logits[mlm_labels >= 0]
RuntimeError: copy_if failed to synchronize: cudaErrorUnknown: unknown error
